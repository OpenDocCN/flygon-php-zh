- en: Appendix C. Code after Gateways
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 附录C. 网关后的代码
- en: This appendix shows a version of the page script from Appendix B after being
    converted to use Gateway classes. Note how very little of it has changed. Even
    though the SQL statements have been removed, the domain business logic remains
    embedded in the page script.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 本附录显示了附录B中页面脚本在转换为使用网关类之后的版本。请注意，它几乎没有改变。尽管SQL语句已被移除，但领域业务逻辑仍嵌入在页面脚本中。
- en: 'The Gateway classes are provided below the page script, and show a conversion
    to PDO-style bound parameters. Also note that there have been minor modifications
    to the `if()` conditions in the page script: whereas previously they checked to
    see if a query succeeded, they now check for a return value from the Gateway.'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 网关类在页面脚本下面提供，并显示了转换为PDO风格绑定参数。还要注意，页面脚本中的`if()`条件已经进行了微小的修改：以前它们检查查询是否成功，现在它们检查网关的返回值。
- en: '[PRE0]'
  id: totrans-3
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '[PRE1]'
  id: totrans-4
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '[PRE2]'
  id: totrans-5
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
