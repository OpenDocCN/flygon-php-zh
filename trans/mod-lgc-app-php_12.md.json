["```php\n**classes/Controller/NewUserPage.php**\n1 <?php\n2 public function __invoke()\n3 {\n4 // ...\n5 $user = $this->request->post['user'];\n6 include 'includes/validators/validate_new_user.php';\n7 if ($user_is_valid) {\n8 $this->user_transactions->addNewUser($user);\n9 $this->response->setVars('success' => true);\n10 } else {\n11 $this->response->setVars(array(\n12 'success' => false,\n13 'user_messages' => $user_messages\n14 ));\n15 }\n16\n17 return $this->response;\n18 }\n19 ?>\n```", "```php\nincludes/validators/validate_new_user.php\n1 <?php\n2 $user_messages = array();\n3 $user_is_valid = true;\n4\n5 if (! Validate::email($user['email'])) {\n6 $user_messages[] = 'Email is not valid.';\n7 $user_is_valid = false;\n8 }\n9\n10 if (! Validate::strlen($foo['username'], 6, 8)) {\n11 $user_messages[] = 'Username must be 6-8 characters long.';\n12 $user_is_valid = false;\n13 }\n14\n15 if ($user['password'] !== $user['confirm_password']) {\n16 $user_messages[] = 'Passwords do not match.';\n17 $user_is_valid = false;\n18 }\n19 ?>\n```", "```php\n**^[ \\t]*(include|include_once|require|require_once)**\n\n```", "```php\n1 <?php\n2 require 'foo/bar/baz.php';\n3 ?>\n```", "```php\n**^[ \\t]*(include|include_once|require|require_once).*baz\\.php**\n\n```", "```php\n**Calling Code**\n1 <?php\n2 // ...\n3 include 'includes/validators/validate_new_user.php';\n4 // ...\n5 ?>\n```", "```php\n**Calling Code**\n1 <?php\n2 // ...\n3 $validator = new \\Validator\\NewUserValidator;\n4 $validator->__invoke();\n5 // ...\n6 ?>\n```", "```php\n**classes/Validator/NewUserValidator.php**\n1 <?php\n2 namespace Validator;\n3\n4 class NewUserValidator\n5 {\n6 public function __invoke()\n7 {\n8 $user_messages = array();\n9 $user_is_valid = true;\n10\n11 if (! Validate::email($user['email'])) {\n12 $user_messages[] = 'Email is not valid.';\n13 $user_is_valid = false;\n14 }\n15\n16 if (! Validate::strlen($foo['username'], 6, 8)) {\n17 $user_messages[] = 'Username must be 6-8 characters long.';\n18 $user_is_valid = false;\n19 }\n20\n21 if ($user['password'] !== $user['confirm_password']) {\n22 $user_messages[] = 'Passwords do not match.';\n23 $user_is_valid = false;\n24 }\n25 }\n26 }\n27 ?>\n```", "```php\n**classes/Validator/NewUserValidator.php**\n1 <?php\n2 public function __invoke(&$user, &$user_messages, &$user_is_valid)\n3 ?>\n```", "```php\n**classes/Validator/NewUserValidator.php**\n1 <?php\n2 $validator->__invoke($user, $user_messages, $user_is_valid);\n3 ?>\n```", "```php\n**classes/Controller/NewUserPage.php**\n1 <?php\n2 namespace Controller;\n3\n4 class NewUserPage\n5 {\n6 // ...\n7\n8 public function __invoke()\n9 {\n10 // ...\n11 $user = $this->request->post['user'];\n12\n13 $validator = new \\Validator\\NewUserValidator;\n14 $validator->__invoke($user, $user_messages, $u\n15\n16 if ($user_is_valid) {\n17 $this->user_transactions->addNewUser($user\n18 $this->response->setVars('success' => true\n19 } else {\n20 $this->response->setVars(array(\n21 'success' => false,\n22 'user_messages' => $user_messages\n23 ));\n24 }\n25\n26 return $this->response;\n27 }\n28 }\n29 ?>\n```", "```php\n**classes/Controller/NewUserPage.php**\n1 <?php\n2 namespace Controller;\n3\n4 class NewUserPage\n5 {\n6 // ...\n7\n8 public function __construct(\n9 \\Mlaphp\\Request $request,\n10 \\Mlaphp\\Response $response,\n11 \\Domain\\Users\\UserTransactions $user_transactions,\n12 \\Validator\\NewUserValidator $validator\n13 ) {\n14 $this->request = $request;\n15 $this->response = $response;\n16 $this->user_transactions = $user_transactions;\n17 $this->validator = $validator;\n18 }\n19\n20 public function __invoke()\n21 {\n22 // ...\n23 $user = $this->request->post['user'];\n24\n25 $this->validator->__invoke($user, $user_messages, $user_is_valid);\n26\n27 if ($user_is_valid) {\n28 $this->user_transactions->addNewUser($user);\n29 $this->response->setVars('success' => true);\n30 } else {\n31 $this->response->setVars(array(\n32 'success' => false,\n33 'user_messages' => $user_messages\n34 ));\n35 }\n36\n37 return $this->response;\n38 }\n39 }\n40 ?>\n```"]