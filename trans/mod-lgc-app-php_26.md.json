["```php\n**articles.php**\n1 <?php\n2 require \"includes/setup.php\";\n3\n4 /* DEPENDENCY */\n5\n6 $db = new Database($db_host, $db_user, $db_pass);\n7 $articles_gateway = new ArticlesGateway($db);\n8 $users_gateway = new UsersGateway($db);\n9 $article_transactions = new ArticleTransactions(\n10 $articles_gateway,\n11 $users_gateway\n12 );\n13 $response = new \\Mlaphp\\Response('/path/to/app/views');\n14 $controller = new \\Controller\\ArticlesPage();\n15\n16 /* CONTROLLER */\n17\n18 $response = $controller->__invoke(\n19 $request,\n20 $response,\n21 $user,\n22 $article_transactions\n23 );\n24\n25 /* FINISHED */\n26\n27 $response->send();\n28 ?>\n**classes/Controller/ArticlesPage.php**\n1 <?php\n2 namespace Controller;\n3\n4 use Domain\\Articles\\ArticleTransactions;\n5 use Mlaphp\\Request;\n6 use Mlaphp\\Response;\n7 use User;\n8\n9 class ArticlesPage\n10 {\n11 public function __construct()\n12 {\n13 }\n14\n15 public function __invoke(\n16 Request $request,\n17 Response $response,\n18 User $user,\n19 ArticleTransactions $article_transactions\n20 ) {\n21 $user_id = $user->getId();\n22\n23 $id = isset($request->get['id'])\n24 ? $request->get['id']\n25 : 0;\n26\n27 if ($id) {\n28 $article_transactions->updateExistingArticle(\n29 $user_id,\n30 $request->post\n31 );\n32 } else {\n33 $article_transactions->submitNewArticle(\n34 $user_id,\n35 $request->post\n36 );\n37 }\n38\n39 $response->setView('articles.html.php');\n40 $response->setVars(array(\n41 'id' => $id,\n42 'failure' => $article_transactions->getFailure(),\n43 'input' => $article_transactions->getInput(),\n44 'action' => $request->server['PHP_SELF'],\n45 ));\n46\n47 return $response;\n48 }\n49 }\n50 ?>\n```"]