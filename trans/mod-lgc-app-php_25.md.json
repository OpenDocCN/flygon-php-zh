["```php\n**articles.php**\n1 <?php\n2 require \"includes/setup.php\";\n3\n4 /* DEPENDENCY */\n5\n6 $db = new Database($db_host, $db_user, $db_pass);\n7 $articles_gateway = new ArticlesGateway($db);\n8 $users_gateway = new UsersGateway($db);\n9 $article_transactions = new ArticleTransactions(\n10 $articles_gateway,\n11 $users_gateway\n12 );\n13 $response = new \\Mlaphp\\Response('/path/to/app/views');\n14\n15 /* CONTROLLER */\n16\n17 $user_id = $user->getId();\n18\n19 $id = isset($_GET['id']) ? $_GET['id'] : 0;\n20 if ($id) {\n21 $article_transactions->updateExistingArticle($user_id, $_POST);\n22 } else {\n23 $article_transactions->submitNewArticle($user_id, $_POST);\n24 }\n25\n26 $response->setView('articles.html.php');\n27 $response->setVars(array(\n28 'id' => $id,\n29 'failure' => $article_transactions->getFailure(),\n30 'input' => $article_transactions->getInput(),\n31 'action' => $_SERVER['PHP_SELF'],\n32 ));\n33\n34 /* FINISHED */\n35\n36 $response->send();\n37 ?>\n```"]