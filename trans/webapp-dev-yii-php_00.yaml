- en: Preface
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 前言
- en: This book is a step-by-step tutorial to developing a real-world application
    using the Yii web application development framework. The book attempts to mirror
    the environment of a software development team that is being tasked with building
    an online application, touching on each aspect of the software development lifecycle,
    as you build a project task management application from its conception to its
    production deployment.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 本书是使用Yii Web应用程序开发框架开发真实应用程序的逐步教程。本书试图模拟一个被要求构建在线应用程序的软件开发团队的环境，涵盖软件开发生命周期的每个方面，从构思到生产部署，构建项目任务管理应用程序。
- en: After a brief, general introduction to the Yii framework, and going through
    the iconic "Hello World" example, the remaining chapters break down in the same
    way as software development iterations do in real-world projects. We begin with
    creating a working application with a valid, tested connection to a database.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在对Yii框架进行简要的一般介绍，并通过标志性的“Hello World”示例之后，剩下的章节以与真实项目中软件开发迭代相同的方式进行了分解。我们首先创建一个具有有效，经过测试的与数据库连接的工作应用程序。
- en: We then move on to defining our main database entities and domain object model,
    and become familiar with Yii's **Object Relational Mapping** (**ORM**) layer *Active
    Record*. We learn how to lean on Yii's code generation tools to automatically
    build our create/read/update/delete (CRUD) functionality against our newly created
    models. We also focus on how Yii's form validation and submission model works.
    By the end of [Chapter 5](ch05.html "Chapter 5. Managing Issues"), *Managing Issues*,
    you will have a working application that allows you to manage the projects and
    issues (tasks) within those projects.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们开始定义我们的主要数据库实体和领域对象模型，并熟悉Yii的**对象关系映射**（**ORM**）层*Active Record*。我们学习如何依靠Yii的代码生成工具自动构建针对我们新创建的模型的创建/读取/更新/删除（CRUD）功能。我们还关注Yii的表单验证和提交模型的工作原理。到[第5章](ch05.html
    "第5章. 管理问题") *管理问题* 结束时，您将拥有一个可以管理项目和项目中的问题（任务）的工作应用程序。
- en: We then turn to the topic of user management. We learn about the built-in authentication
    model within Yii to assist with the application login and logout functionality.
    We take a deep dive into the authorization model, first taking advantage of Yii's
    simple access control model and then implementing the more sophisticated, **role-based
    access control** (**RBAC**) framework that Yii provides.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们转向用户管理的话题。我们了解Yii内置的身份验证模型，以帮助应用程序的登录和注销功能。我们深入研究授权模型，首先利用Yii的简单访问控制模型，然后实施Yii提供的更复杂的**基于角色的访问控制**（**RBAC**）框架。
- en: By the end of [Chapter 7](ch07.html "Chapter 7. User Access Control"), *User
    Access Control*, all of the basics of a task-management application are in place.
    The next several chapters begin to focus on additional user features, user experience,
    and design. We add user comment functionality, introducing a reusable, content
    portlet architecture approach in the process. We add in an RSS web feed and demonstrate
    how easy it is to integrate other third-party tools and frameworks within a Yii
    application. We take advantage of Yii's theming structure to help streamline and
    design the application, and then introduce Yii's internationalization (`I18N`)
    features so that the application can be adapted to various languages and regions
    without engineering changes.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 到[第7章](ch07.html "第7章. 用户访问控制") *用户访问控制* 结束时，任务管理应用程序的所有基础都已就位。接下来的几章将开始专注于额外的用户功能，用户体验和设计。我们添加用户评论功能，介绍了一种可重用的内容小部件架构方法。我们添加了一个RSS网络订阅，并演示了在Yii应用程序中集成其他第三方工具和框架有多么容易。我们利用Yii的主题结构来帮助简化和设计应用程序，然后介绍Yii的国际化（`I18N`）功能，以便应用程序可以在不进行工程更改的情况下适应各种语言和地区。
- en: In the final chapter, we turn our focus to preparing the application for production
    deployment. We introduce ways to optimize performance and improve security, to
    prepare the application for a production environment.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 在最后一章中，我们将把重点转向准备应用程序进行生产部署。我们介绍了优化性能和提高安全性的方法，以准备应用程序投入生产环境。
- en: What this book covers
  id: totrans-7
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书涵盖内容
- en: '[Chapter 1](ch01.html "Chapter 1. Meet Yii"), *Meet Yii*, provides you with
    a brief history of Yii, an introduction to the **Model View Controller** (**MVC**)
    application architecture, and you are introduced to the typical request life cycle
    as it makes its way from the end user through the application, and finally as
    a response back to the end user.'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 第1章，*遇见Yii*，为您提供了Yii的简要历史，介绍了**模型视图控制器**（**MVC**）应用程序架构，并向您介绍了典型的请求生命周期，从最终用户通过应用程序，最终作为响应返回给最终用户。
- en: '[Chapter 2](ch02.html "Chapter 2. Getting Started"), *Getting Started*, is
    dedicated to downloading and installing the framework, creating a new Yii application
    shell, and introducing Gii, Yii''s powerful and flexible code generation tool.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 第2章，*入门*，致力于下载和安装框架，创建一个新的Yii应用程序外壳，并介绍Gii，Yii强大灵活的代码生成工具。
- en: '[Chapter 3](ch03.html "Chapter 3. The TrackStar Application"), *The TrackStar
    Application*, is where the TrackStar application is introduced. This is an online,
    project-management and issue-tracking application that you will be building throughout
    the remaining chapters. Here you learn how to connect a Yii application to an
    underlying database. You also learn how to run the interactive shell from the
    command line. The last part of this chapter is focused on providing an overview
    of unit and functional testing within a Yii application, and provides a concrete
    example of writing a unit test in Yii.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 第3章，*TrackStar应用程序*，介绍了TrackStar应用程序。这是一个在线项目管理和问题跟踪应用程序，您将在接下来的章节中构建。在这里，您将学习如何将Yii应用程序连接到底层数据库。您还将学习如何从命令行运行交互式shell。本章的最后部分侧重于在Yii应用程序中提供单元测试和功能测试的概述，并提供了在Yii中编写单元测试的具体示例。
- en: '[Chapter 4](ch04.html "Chapter 4. Project CRUD"), *Project CRUD*, helps you
    to start interacting with the database, to begin adding features to the database-driven
    Yii application TrackStar. You learn how to use Yii Migrations for database change
    management, and we use the Gii tool to create model classes and also to build
    out create, read, update, and delete (CRUD) functionality using the model class.
    The reader is also introduced to configuring and performing form field validation
    in this chapter.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 第4章，“项目CRUD”，帮助您开始与数据库交互，开始向基于数据库的Yii应用程序TrackStar添加功能。您将学习如何使用Yii迁移进行数据库变更管理，我们使用Gii工具创建模型类，并使用模型类构建创建、读取、更新和删除（CRUD）功能。本章还向读者介绍了配置和执行表单字段验证。
- en: '[Chapter 5](ch05.html "Chapter 5. Managing Issues"), *Managing Issues*, explains
    how additional related database tables are added to the TrackStar application,
    and how the reader is introduced to the relational Active Record in Yii. This
    chapter also covers using controller filters to tap into the application life
    cycle in order to provide pre-action and post-action processing. The official
    Yii extension library Zii is introduced, and we use Zii widgets to enhance the
    TrackStar application.'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 第5章，“管理问题”，解释了如何向TrackStar应用程序添加其他相关的数据库表，并介绍了Yii中的关联Active Record。本章还涵盖了使用控制器过滤器来利用应用程序生命周期，以提供前操作和后操作处理。我们介绍了官方Yii扩展库Zii，并使用Zii小部件来增强TrackStar应用程序。
- en: '[Chapter 6](ch06.html "Chapter 6. User Management and Authentication"), *User
    Management and Authentication*, explains how to authenticate users in a Yii. While
    adding the ability to manage users in the TrackStar application, the reader learns
    to take advantage of *Behaviors* in Yii, which provide an extremely flexible approach
    to sharing common code and functionality across your Yii components. This chapter
    also covers the Yii authentication model in detail.'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 第6章，“用户管理和身份验证”，解释了如何在Yii中对用户进行身份验证。在为TrackStar应用程序添加管理用户功能的同时，读者学习如何利用Yii中的“行为”来实现对Yii组件之间共享通用代码和功能的极其灵活的方法。本章还详细介绍了Yii的身份验证模型。
- en: '[Chapter 7](ch07.html "Chapter 7. User Access Control"), *User Access Control*,
    is dedicated to Yii''s authorization model. First we cover the simple access control
    features, which allow you to easily configure access rules for the controller
    actions that are based on several parameters. Then we look at how role-based access
    control (RBAC) is implemented in Yii, which allows a much more robust authorization
    model for complete access control based on hierarchical model of roles, operations,
    and tasks. Implementing role-based access control into the TrackStar application
    also introduced the reader to using the console command in Yii.'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 第7章，“用户访问控制”，专门介绍了Yii的授权模型。首先，我们介绍了简单的访问控制功能，它允许您轻松地为基于多个参数的控制器操作配置访问规则。然后，我们看看在Yii中如何实现基于角色的访问控制（RBAC），它允许更健壮的授权模型，完全基于角色、操作和任务的分层模型进行完整的访问控制。将基于角色的访问控制实现到TrackStar应用程序中还向读者介绍了在Yii中使用控制台命令。
- en: '[Chapter 8](ch08.html "Chapter 8. Adding User Comments"), *Adding User Comments*,
    helps demonstrate how to implement the feature for allowing users to leave comments
    on projects and issues in the TrackStar application; we introduce how to configure
    and use a statistical query relation, how to create highly reusable user interface
    components called *Widgets*, and how to define and use named scopes in Yii.'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 第8章，“添加用户评论”，帮助演示了如何实现允许用户在TrackStar应用程序中对项目和问题进行评论的功能；我们介绍了如何配置和使用统计查询关系，如何创建高度可重用的用户界面组件称为“小部件”，以及如何在Yii中定义和使用命名范围。
- en: '[Chapter 9](ch09.html "Chapter 9. Adding an RSS Web Feed"), *Adding an RSS
    Web Feed*, demonstrates how easy it is to use other third-party frameworks and
    libraries in Yii applications, and shows you how to use the URL management features
    of Yii to customize your applications'' URL format and structure.'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 第9章，“添加RSS Web Feed”，演示了在Yii应用程序中使用其他第三方框架和库有多么容易，并展示了如何使用Yii的URL管理功能来自定义应用程序的URL格式和结构。
- en: '[Chapter 10](ch10.html "Chapter 10. Making It Look Good"), *Making It Look
    Good*, helps you learn more about the views in Yii, and how to use layouts to
    manage markup and content shared across your application pages. *Theming* is also
    introduced, as we show how easy it is to give a Yii application a completely new
    look without having to alter any of the underlying engineering. We then take a
    look at internationalization (`i18n`) and localization (`l10n`) in Yii as language
    translation is added to our TrackStar application.'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 第10章，“使其看起来不错”，帮助您更多地了解Yii中的视图，以及如何使用布局来管理跨应用程序页面共享的标记和内容。我们还介绍了主题化，展示了如何轻松地为Yii应用程序赋予全新的外观，而无需修改任何基础工程。然后，我们将介绍Yii中的国际化（`i18n`）和本地化（`l10n`），因为语言翻译被添加到我们的TrackStar应用程序中。
- en: '[Chapter 11](ch11.html "Chapter 11. Using Yii Modules"), *Using Yii Modules*,
    explains how to add administrative features to the TrackStar site by using a Yii
    module. Modules provide a very flexible approach to developing and managing the
    larger, self-contained sections of your application.'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 第11章，“使用Yii模块”，解释了如何通过使用Yii模块向TrackStar网站添加管理功能。模块提供了一种非常灵活的方法来开发和管理应用程序中较大的、独立的部分。
- en: '[Chapter 12](ch12.html "Chapter 12. Production Readiness"), *Production Readiness*,
    helps us prepare our TrackStar application for production. You learn about Yii''s
    logging framework, caching techniques, and error-handling methods to help get
    your Yii applications production-ready.'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 第12章，“生产就绪”，帮助我们准备我们的TrackStar应用程序投入生产。您将了解Yii的日志框架、缓存技术和错误处理方法，以帮助使您的Yii应用程序达到生产就绪状态。
- en: What you need for this book
  id: totrans-20
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书所需软件
- en: 'The following software are required for this book:'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 本书需要以下软件：
- en: Yii framework Version 1.1.12
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yii框架版本1.1.12
- en: PHP 5.1 or above (5.3 or 5.4 recommended)
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: PHP 5.1或更高版本（建议使用5.3或5.4）
- en: MySQL 5.1 or above
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MySQL 5.1或更高版本
- en: A web server capable of running PHP 5.1; the examples provided in the book were
    built and tested with the Apache HTTP server, on which Yii has been thoroughly
    tested within both Windows and Linux environments
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 能够运行PHP 5.1的Web服务器；本书中提供的示例是在Apache HTTP服务器上构建和测试的，在这些服务器上Yii已经在Windows和Linux环境中进行了彻底测试
- en: Zend Framework Version 1.1.12 or above (only needed for [Chapter 9](ch09.html
    "Chapter 9. Adding an RSS Web Feed"), *Adding an RSS Web Feed*, and the downloading
    and configuration of this library, which is covered in this chapter)
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Zend框架版本1.1.12或更高版本（仅需要[第9章](ch09.html "第9章 添加RSS Web Feed")中的内容，*添加RSS Web
    Feed*，以及此库的下载和配置，这在本章中有介绍）
- en: Who this book is for
  id: totrans-27
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 这本书适合谁
- en: If you are a PHP programmer with a knowledge of object-oriented programming
    and want to rapidly develop modern, sophisticated web applications, then this
    book is for you. No prior knowledge of Yii is required to read this book.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您是具有面向对象编程知识的PHP程序员，并且希望快速开发现代、复杂的Web应用程序，那么这本书适合您。阅读本书不需要对Yii有任何先前的了解。
- en: Conventions
  id: totrans-29
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 约定
- en: In this book, you will find a number of styles of text that distinguish between
    different kinds of information. Here are some examples of these styles, and an
    explanation of their meaning.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书中，您会发现一些文本样式，用于区分不同类型的信息。以下是一些这些样式的示例，以及它们的含义解释。
- en: 'Code words in text are shown as follows: "We can include other contexts through
    the use of the `include` directive."'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 文本中的代码词如下所示：“我们可以通过使用`include`指令来包含其他上下文。”
- en: 'A block of code is set as follows:'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 代码块设置如下：
- en: '[PRE0]'
  id: totrans-33
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'When we wish to draw your attention to a particular part of a code block, the
    relevant lines or items are set in bold:'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们希望引起您对代码块的特定部分的注意时，相关行或项会以粗体显示：
- en: '[PRE1]'
  id: totrans-35
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Any command-line input or output is written as follows:'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 任何命令行输入或输出都以以下方式编写：
- en: '[PRE2]'
  id: totrans-37
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '**New terms** and **important words** are shown in bold. Words that you see
    on the screen, in menus or dialog boxes for example, appear in the text like this:
    "clicking the **Next** button moves you to the next screen".'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: '**新术语**和**重要单词**以粗体显示。例如，屏幕上看到的单词，如菜单或对话框中的单词，会以这样的方式出现在文本中：“点击**下一步**按钮会将您移动到下一个屏幕”。'
- en: Note
  id: totrans-39
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Warnings or important notes appear in a box like this.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 警告或重要说明会以这样的方式出现在框中。
- en: Tip
  id: totrans-41
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: Tips and tricks appear like this.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 提示和技巧会以这样的方式出现。
