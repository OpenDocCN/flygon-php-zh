["```php\n$filepath = \"../app/views/$path.php\";\n```", "```php\n$filepath = APPDIR.\"views/$path.php\";\n```", "```php\n    defined('DS') || define('DS', DIRECTORY_SEPARATOR);\n    define('APPDIR', realpath(__DIR__.'/../app/') .DS);\n    define('SYSTEMDIR', realpath(__DIR__.'/../system/') .DS);\n    define('PUBLICDIR', realpath(__DIR__) .DS);\n    define('ROOTDIR', realpath(__DIR__.'/../') .DS);\n    ```", "```php\n    $filepath = \"../app/views/$path.php\";\n    ```", "```php\n    $filepath = APPDIR.\"views/$path.php\";\n    ```", "```php\n    <?php\n    use App\\Helpers\\Session;\n\n    if (isset($errors)) {\n        foreach($errors as $error) {\n            echo \"<div class='alert alert-danger'>$error</div>\";\n        }\n    }\n\n    if (Session::get('success')) {\n        echo \"<div class='alert alert-success'>\".Session::pull('success').\"</div>\";\n    }\n    ```", "```php\n    <!doctype html>\n    <html lang=\"en\">\n    <head>\n    <meta charset=\"utf-8\">\n    <title><?=(isset($title) ? $title.' - ' : '');?> Demo</\n    title>\n    <link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css\">\n    <link rel=\"stylesheet\" href=\"/css/style.css\">\n\n    <script src=\"https://code.jquery.com/jquery-2.2.4.min.js\"></script>\n    <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js\"></script>\n    </head>\n    <body>\n\n    <div class=\"container\">\n    ```", "```php\n    </div>\n    </body>\n    </html>\n    ```", "```php\n    <nav class=\"navbar navbar-default\">\n    \u2026\u2026\n          </div><!--/.nav-collapse -->\n        </div><!--/.container-fluid -->\n    </nav>\n    ```", "```php\n    <?php include(APPDIR.'views/layouts/header.php');?>\n    404!\n    <?php include(APPDIR.'views/layouts/footer.php');?>\n    ```", "```php\n    php \u2013S localhost:8000 \u2013t webroot\n    ```", "```php\n    <!doctype html>\n    <html lang=\"en\">\n    <head>\n    \u2026\u2026\n    404!\n    </div>\n    </body>\n    </html>\n    ```", "```php\n    <?php namespace App\\Helpers;\n\n    class Url\n    {\n        public static function redirect($path = '/')\n       {\n            header('Location: '.$path);\n            exit();\n        }\n    }\n    ```", "```php\n    <?php namespace App\\Helpers;\n\n    class Session\n    {\n        private static $sessionStarted = false;\n    /**\n     * if session has not started, start sessions\n     */\n    public static function init()\n    {\n        if (self::$sessionStarted == false) {\n            session_start();\n            self::$sessionStarted = true;\n        }\n    }\n    ```", "```php\n    public static function set($key, $value = false)\n    {\n        /**\n         * Check whether session is set in array or not\n         * If array then set all session key-values in foreach loop\n         */\n        if (is_array($key) && $value === false) {\n            foreach ($key as $name => $value) {\n                $_SESSION[$name] = $value;\n            }\n        } else {\n            $_SESSION[$key] = $value;\n        }\n    }\n    ```", "```php\n    public static function pull($key)\n    {\n        $value = $_SESSION[$key];\n        unset($_SESSION[$key]);\n        return $value;\n    }\n    ```", "```php\n    public static function get($key)\n    {\n        if (isset($_SESSION[$key])) {\n            return $_SESSION[$key];\n        }\n\n        return false;\n    }\n    ```", "```php\n    public static function display()\n    {\n        return $_SESSION;\n    }\n    ```", "```php\n    public static function destroy($key = '')\n    {\n        if (self::$sessionStarted == true) {\n            if (empty($key)) {\n                session_unset();\n                session_destroy();\n            } else {\n                unset($_SESSION[$key]);\n            }\n        }\n    }\n    ```", "```php\n    <?php namespace App\\Helpers;\n\n    class Session\n    {\n        private static $sessionStarted = false;\n    \u2026\u2026..\n        }\n\n    }\n    ```", "```php\n    <?php namespace App;\n\n    use App\\Helpers\\Session;\n\n    class Config {\n    \u2026\u2026.\n            ];\n        }\n    }\n    ```", "```php\n    CREATE TABLE `users` (\n      `id` int(11) unsigned NOT NULL AUTO_INCREMENT,\n      `username` varchar(255) DEFAULT NULL,\n      `email` varchar(255) DEFAULT NULL,\n      `password` varchar(255) DEFAULT NULL,\n      `created_at` datetime DEFAULT NULL,\n      `reset_token` varchar(255) DEFAULT NULL,\n      PRIMARY KEY (`id`)\n    ) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n    ```", "```php\n    <?php namespace App\\Models;\n    \u2026\u2026.\n        {\n            $this->db->delete('users', $where);\n        }\n    }\n    ```", "```php\n    <?php namespace App\\Controllers;\n\n    use System\\BaseController;\n    \u2026\u2026..\n            $this->view->render('admin/index', compact('title'));\n        }\n\n    }\n    ```", "```php\n    <?php\n    include(APPDIR.'views/layouts/header.php');\n    include(APPDIR.'views/layouts/nav.php');\n    include(APPDIR.'views/layouts/errors.php');\n    ?>\n\n    <h1>Dashboard</h1>\n    <p>This is the application dashboard.</p>\n\n    <?php include(APPDIR.'views/layouts/footer.php');?>\n    ```", "```php\n    <?php include(APPDIR.'views/layouts/header.php');?>\n\n    <div class=\"wrapper well\">\n\n        <?php include(APPDIR.'views/layouts/errors.php');?>\n    \u2026\u2026.\n    .wrapper h1 {\n        margin-top: 0px;\n        font-size: 25px;\n    }\n    ```", "```php\n    public function login()\n    {\n        if (Session::get('logged_in')) {\n            Url::redirect('/admin');\n        }\n\n        $errors = [];\n\n        $title = 'Login';\n\n        $this->view->render('admin/auth/login', compact('title', 'errors'));\n    }\n    ```", "```php\n    public function get_hash($username)\n    {\n        $data = $this->db->select('password FROM users WHERE username = :username', [':username' => $username]);\n       return (isset($data[0]->password) ? $data[0]->password : null);\n    }\n    ```", "```php\n    public function get_data($username)\n    {\n        $data = $this->db->select('* FROM users WHERE username = :username', [':username' => $username]);\n        return (isset($data[0]) ? $data[0] : null);\n    }\n    ```", "```php\n    if (isset($_POST['submit'])) {\n                $username = htmlspecialchars($_POST['username']);\n               $password = htmlspecialchars($_POST['password']);\n               if (password_verify($password, $this->user->get_hash($username)) == false) {\n                    $errors[] = 'Wrong username or password';\n                }\n                if (count($errors) == 0) {\n                    //logged in\n                    $data = $this->user->get_data($username);\n                    Session::set('logged_in', true);\n                    Session::set('user_id', $data->id);\n\n                    Url::redirect('/admin');\n                }\n            }\n    ```", "```php\n    public function login()\n    {\n        if (Session::get('logged_in')) {\n            Url::redirect('/admin');\n        }\n    \u2026\u2026\n        $this->view->render('admin/auth/login', compact('title', 'errors'));\n    }\n    ```", "```php\n    php \u2013S localhost:8000 \u2013t webroot\n    ```", "```php\n    echo password_hash('demo', PASSWORD_BCRYPT);\n    ```", "```php\n    $2y$10$OAZK6znqAvV2fXS1BbYoVet3pC9dStWVFQGlrgEV4oz2GwJi0nKtC\n    ```", "```php\n    public function logout()\n    {\n        Session::destroy();\n        Url::redirect('/admin/login');\n    }\n    ```", "```php\n    'default_controller' => 'Home'\n    ```", "```php\n    'default_controller' => Admin,\n    ```", "```php\n    public function reset()\n    {\n        if (Session::get('logged_in')) {\n            Url::redirect('/admin');\n        }\n\n        $errors = [];\n\n        $title = 'Reset Account';\n\n        $this->view->render('admin/auth/reset', compact('title', 'errors'));\n    }\n    ```", "```php\n    <?php include(APPDIR.'views/layouts/header.php');?>\n\n    <div class=\"wrapper well\">\n\n        <?php include(APPDIR.'views/layouts/errors.php');?>\n\n        <h1>Reset Account</h1>\n\n        <form method=\"post\">\n    \u2026\n    \u2026\n        </div>\n\n    <?php include(APPDIR.'views/layouts/footer.php');?>\n    ```", "```php\n    if (isset($_POST['submit'])) {\n    ```", "```php\n    $email = (isset($_POST['email']) ? $_POST['email'] : null);\n\n    if (!filter_var($email, FILTER_VALIDATE_EMAIL)) {\n\n        $errors[] = 'Please enter a valid email address';\n    } else {\n        if ($email != $this->user->get_user_email($email)){\n            $errors[] = 'Email address not found';\n        }\n    }\n    ```", "```php\n    public function get_user_email($email)\n    {\n        $data = $this->db->select('email from users where email = :email', [':email' => $email]);\n        return (isset($data[0]->email) ? $data[0]->email : null);\n    }\n    ```", "```php\n    if ($email != $this->user->get_user_email($email)){\n    ```", "```php\n    if (count($errors) == 0) {\n    ```", "```php\n    public function reset()\n    {\n    \u2026\u2026.\n\n        $this->view->render('admin/auth/reset', compact('title', 'errors'));\n    }\n    ```", "```php\n    {\n        \"autoload\": {\n            \"psr-4\": {\n                \"App\\\\\" : \"app/\",\n                \"System\\\\\" : \"system/\"\n            }\n        },\n        \"require\": {\n            \"filp/whoops\": \"^2.1\",\n            \"phpmailer/phpmailer\": \"~6.0\"\n        }\n    }\n    ```", "```php\n    use PHPMailer\\PHPMailer\\PHPMailer;\n    use PHPMailer\\PHPMailer\\Exception;\n    ```", "```php\n    if (count($errors) == 0) {\n\n    }\n    ```", "```php\n    $token = md5(uniqid(rand(),true));\n    $data  = ['reset_token' => $token];\n    $where = ['email' => $email];\n    $this->user->update($data, $where);\n    ```", "```php\n    $mail = new PHPMailer(true);\n    $mail->setFrom('noreply@domain.com');\n    $mail->addAddress($email);\n    $mail->isHTML(true);\n    ```", "```php\n    $mail->Subject = 'Reset you account';\n    $mail->Body    = \"<p>To change your password please click <a \n    href='http://localhost:8000/admin/change_password/$token'>this link</a></p>\";\n    $mail->AltBody = \"To change your password please go to this address: http://localhost:8000/admin/change_password/$token\";\n    ```", "```php\n    $mail->send();\n    ```", "```php\n    Session::set('success', \"Email sent to \".htmlentities($email));\n    Url::redirect('/admin/reset');\n    ```", "```php\n    public function reset()\n    {\n        if (Session::get('logged_in')) {\n            Url::redirect('/admin');\n        }\n    \u2026\u2026.\n        $title = 'Reset Account';\n\n        $this->view->render('admin/auth/reset', compact('title', 'errors'));\n    }\n    ```", "```php\n    $user = $this->user->get_user_reset_token($token);\n    if ($user == null) {\n           $errors[] = 'user not found.';\n    }\n    ```", "```php\n    $title = 'Change Password';\n\n        $this->view->render('admin/auth/change_password', compact('title', 'token', 'errors'));\n    }\n    ```", "```php\n    <?php include(APPDIR.'views/layouts/header.php');?>\n\n    \u2026\u2026\n        </div>\n\n    <?php include(APPDIR.'views/layouts/footer.php');?>\n    ```", "```php\n    if (isset($_POST['submit'])) {\n\n        $token = htmlspecialchars($_POST['token']);\n    \u2026\u2026..\n        }\n\n    }\n    ```", "```php\n    public function change_password($token)\n    {\n    \u2026\u2026.\n\n        $title = 'Change Password';\n\n        $this->view->render('admin/auth/change_password', compact('title', 'token', 'errors'));\n    }\n    ```", "```php\n    get_users() \u2013 returns all users ordered by username\n        $data = $this->db->select('username from users where username = :username', [':username' => $username]);\n        return (isset($data[0]->username) ? $data[0]->username : null);\n    }\n    ```", "```php\n    use System\\BaseController;\n    use App\\Helpers\\Session;\n    use App\\Helpers\\Url;\n    use App\\Models\\User;\n    class Users extends BaseController\n    {\n    ```", "```php\n    $this->user = new User()\n    ```", "```php\n    protected $user;\n\n    public function __construct()\n    {\n        parent::__construct();\n\n        if (! Session::get('logged_in')) {\n            Url::redirect('/admin/login');\n        }\n\n        $this->user = new User();\n    }\n    ```", "```php\n    public function index()\n    {\n        $users = $this->user->get_users();\n        $title = 'Users';\n\n        $this->view->render('admin/users/index', compact('users', 'title'));\n    }\n    ```", "```php\n    foreach($users as $user)\n    ```", "```php\n    <?php\n    include(APPDIR.'views/layouts/header.php');\n    include(APPDIR.'views/layouts/nav.php');\n    \u2026\u2026\n        </table>\n    </div>\n\n    <?php include(APPDIR.'views/layouts/footer.php');?>\n    ```", "```php\n    public function add()\n        {\n            $errors = [];\n\n            $title = 'Add User';\n            $this->view->render('admin/users/add', compact('errors', 'title'));\n        }\n    ```", "```php\n    (isset($_POST['username']) ? $_POST['username'] : '')\n    ```", "```php\n    <?php\n    include(APPDIR.'views/layouts/header.php');\n    include(APPDIR.'views/layouts/nav.php');\n    include(APPDIR.'views/layouts/errors.php');\n    \u2026\u2026..\n    </form>\n\n    <?php include(APPDIR.'views/layouts/footer.php');?>\n    ```", "```php\n    if (isset($_POST['submit'])) {\n    ```", "```php\n    $username            = (isset($_POST['username']) ? $_POST['username'] : null);\n    $email                    = (isset($_POST['email']) ? $_POST['email'] : null);\n    $password            = (isset($_POST['password']) ? $_POST['password'] : null);\n    $password_confirm    = (isset($_POST['password_confirm']) ? $_POST['password_confirm'] : null);\n    ```", "```php\n    if (strlen($username) < 3) {\n        $errors[] = 'Username is too short';\n    }\n    ```", "```php\n    else {\n        if ($username == $this->user->get_user_username($username)){\n            $errors[] = 'Username address is already in use';\n        }\n    }\n    ```", "```php\n    if (!filter_var($email, FILTER_VALIDATE_EMAIL)) {\n        $errors[] = 'Please enter a valid email address';\n    } else {\n        if ($email == $this->user->get_user_email($email)){\n            $errors[] = 'Email address is already in use';\n        }\n    }\n    ```", "```php\n    if ($password != $password_confirm) {\n        $errors[] = 'Passwords do not match';\n    } elseif (strlen($password) < 3) {\n        $errors[] = 'Password is too short';\n    }\n    ```", "```php\n    if (count($errors) == 0) {\n\n        $data = [\n            'username' => $username,\n            'email' => $email,\n            'password' => password_hash($password, PASSWORD_BCRYPT)\n        ];\n\n        $this->user->insert($data);\n\n        Session::set('success', 'User created');\n        Url::redirect('/users');\n\n    }\n    ```", "```php\n    public function add()\n        {\n            $errors = [];\n    \u2026\u2026.\n            $title = 'Add User';\n            $this->view->render('admin/users/add', compact('errors', 'title'));\n        }\n    ```", "```php\n    public function edit($id)\n    {\n        if (! is_numeric($id)) {\n     Url::redirect('/users');\n        }\n        $user = $this->user->get_user($id);\n        if ($user == null) {\n            Url::redirect('/404');\n        }\n\n        $errors = [];\n\n        $title = 'Edit User';\n        $this->view->render('admin/users/edit', compact('user', 'errors', 'title'));\n    }\n    ```", "```php\n    <?php\n    include(APPDIR.'views/layouts/header.php');\n    include(APPDIR.'views/layouts/nav.php');\n    include(APPDIR.'views/layouts/errors.php');\n    \u2026\u2026\n    </form>\n\n    <?php include(APPDIR.'views/layouts/footer.php');?>\n    ```", "```php\n    if (isset($_POST['submit'])) {\n        $username            = (isset($_POST['username']) ? $_POST['username'] : null);\n    \u2026\u2026\n                $errors[] = 'Password is too short';\n            }\n        }\n    ```", "```php\n    if (count($errors) == 0) {\n    ```", "```php\n    $data = [\n        'username' => $username,\n        'email' => $email\n    ];\n    ```", "```php\n    if ($password != null) {\n        $data['password'] = password_hash($password, PASSWORD_BCRYPT);\n    }\n    ```", "```php\n    $where = ['id' => $id];\n\n    $this->user->update($data, $where);\n\n    Session::set('success', 'User updated');\n\n    Url::redirect('/users');\n    ```", "```php\n    public function edit($id)\n    {\n        if (! is_numeric($id)) {\n    \u2026\u2026\n        }\n        $title = 'Edit User';\n        $this->view->render('admin/users/edit', compact('user', 'errors', 'title'));\n    }\n    ```", "```php\n    public function delete($id)\n        {\n            if (! is_numeric($id)) {\n                Url::redirect('/users');\n            }\n            if (Session::get('user_id') == $id) {\n                die('You cannot delete yourself.');\n            }\n            $user = $this->user->get_user($id);\n            if ($user == null) {\n                Url::redirect('/404');\n            }\n            $where = ['id' => $user->id];\n            $this->user->delete($where);\n            Session::set('success', 'User deleted');\n            Url::redirect('/users');\n        }\n    ```", "```php\n    php \u2013S localhost:8000 \u2013t webroot\n    ```", "```php\n    <script language=\"JavaScript\" type=\"text/javascript\">\n    function del(id, title) {\n        if (confirm(\"Are you sure you want to delete '\" + title + \"'?\")) {\n            window.location.href = '/users/delete/' + id;\n        }\n    }\n    </script>\n    ```", "```php\n    <a href=\"/users/delete/<?=$row->id;?>\" class=\"btn btn-xs btn-danger\">Delete</a>\n    ```", "```php\n    <a href=\"javascript:del('<?=$row->id;?>','<?=$row->username;?>')\" class=\"btn btn-xs btn-danger\">Delete</a>\n    ```"]