- en: Preface
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 前言
- en: PHP 7 has taken the open source community by storm, breaking records for speed,
    which is, metaphorically, causing heads to turn. In its most fundamental sense,
    the core engineering team has effected a major rewrite of the language but has
    still managed to maintain backward compatibility to a high degree. The impact
    of these internal changes is outwardly manifested in an almost 200% increase in
    speed, with significant savings in memory usage. From a development perspective,
    changes in how commands are parsed along with a uniform variable syntax have introduced
    new ways to write code which were simply not possible in the earlier versions
    of PHP. By the same token, any developer who is unaware of how commands are interpreted
    in PHP 7 can fall into unseen traps, which causes the code to malfunction. Accordingly,
    the mandate of this book is to illustrate new and exciting ways to write code
    and to point out any areas of incompatibility with previous versions of PHP. It
    is also important to note that this book addresses both PHP 7.0 and 7.1.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: PHP 7已经席卷了开源社区，打破了速度记录，这在比喻上引起了人们的关注。从最基本的意义上讲，核心工程团队对语言进行了重大改写，但仍然成功地保持了很高程度的向后兼容性。这些内部变化的影响在速度上表现出来，速度几乎增加了200%，内存使用也有了显著的节省。从开发的角度来看，命令解析方式的改变以及统一的变量语法引入了在早期版本的PHP中根本不可能的编写代码的新方法。同样，任何不了解PHP
    7中命令解释方式的开发人员可能会陷入看不见的陷阱，导致代码出现故障。因此，本书的任务是阐明编写代码的新方法，并指出与以前版本的PHP不兼容的任何领域。还需要注意的是，本书涵盖了PHP
    7.0和7.1。
- en: What this book covers
  id: totrans-2
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书内容包括
- en: '[Chapter 1](ch01.html "Chapter 1. Building a Foundation"), *Building a Foundation*,
    helps you get started with the initial setup and configuration of your PHP 7 development
    environment. We will also present a few hard-hitting initial recipes, which show
    off new features of PHP 7.'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[第1章](ch01.html "第1章。打下基础")，*打下基础*，帮助您开始设置和配置PHP 7开发环境。我们还将介绍一些强有力的初始示例，展示PHP
    7的新功能。'
- en: '[Chapter 2](ch02.html "Chapter 2. Using PHP 7 High Performance Features"),
    *Using PHP 7 High Performance Features*, takes a deep dive into the new features
    of the language. You will be introduced to the concepts of the abstract syntax
    tree and uniform variable syntax, among others, and you will learn how these can
    affect day-to-day programming. This is followed by recipes that take advantage
    of PHP 7 performance improvements, including significant new changes in the `foreach()`
    loop handling.'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: '[第2章](ch02.html "第2章。使用PHP 7高性能功能")，*使用PHP 7高性能功能*，深入探讨了语言的新功能。您将了解抽象语法树和统一变量语法等概念，以及这些如何影响日常编程。接着是利用PHP
    7性能改进的示例，包括`foreach()`循环处理中的重大新变化。'
- en: '[Chapter 3](ch03.html "Chapter 3. Working with PHP Functional Programming"),
    *Working with PHP Functional Programming*, emphasizes how PHP has always had the
    capability of working with programmer-defined libraries of functions rather than
    classes, and PHP 7 is no exception. In this chapter, we will take a closer look
    at improvements in the handling of functions, including the ability to provide
    "type hints" involving basic data types, such as integer, float, Boolean, and
    string for both input and output. We will also provide extensive coverage of iterators
    from the Standard PHP Library, as well as how to write your own iterators by taking
    advantage of improved handling of generators.'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: '[第3章](ch03.html "第3章。使用PHP函数式编程")，*使用PHP函数式编程*，强调PHP一直具有使用程序员定义的函数库而不是类的能力，PHP
    7也不例外。在本章中，我们将更仔细地研究函数处理的改进，包括提供涉及基本数据类型（如整数、浮点数、布尔值和字符串）的“类型提示”，用于输入和输出。我们还将广泛介绍标准PHP库中的迭代器，以及如何利用生成器的改进处理编写自己的迭代器。'
- en: '[Chapter 4](ch04.html "Chapter 4. Working with PHP Object-Oriented Programming"),
    *Working with PHP Object-Oriented Programming*, explores the basics of PHP object-oriented
    programming. Quickly getting beyond the basics, you will learn how to use PHP
    namespaces and traits. Architectural considerations will be covered, including
    how to best use interfaces. Finally, an exciting new PHP 7 feature, anonymous
    classes, will be discussed along with practical examples of its use.'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: '[第4章](ch04.html "第4章。使用PHP面向对象编程")，*使用PHP面向对象编程*，探讨了PHP面向对象编程的基础知识。迅速超越基础知识，您将学习如何使用PHP命名空间和特征。还将涵盖架构考虑因素，包括如何最好地使用接口。最后，将讨论一个令人兴奋的新功能PHP
    7，即匿名类，并提供其实际用例。'
- en: '[Chapter 5](ch05.html "Chapter 5. Interacting with a Database"), *Interacting
    with a Database*, explores the ability to have your application read from and
    write to a database, which is a critical part of any modern website. What is widely
    misunderstood, however, is the proper use of the PHP Data Objects (PDO) extension.
    This chapter will present thorough coverage of PDO, which in turn will allow your
    applications to interact with most major databases, including MySQL, Oracle, PostgreSQL,
    IBM DB2, and Microsoft SQL Server, without having to learn any other set of commands.
    In addition, we will cover advanced techniques, such as working with Domain Model
    Entities, performing embedded secondary lookups, and implementing jQuery DataTable
    lookups using PHP 7.'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: '[第5章](ch05.html "第5章。与数据库交互")，*与数据库交互*，探讨了应用程序从数据库中读取和写入数据的能力，这是任何现代网站的关键部分。然而，广泛误解的是正确使用PHP数据对象（PDO）扩展。本章将全面介绍PDO，从而使您的应用程序能够与大多数主要数据库交互，包括MySQL、Oracle、PostgreSQL、IBM
    DB2和Microsoft SQL Server，而无需学习任何其他一套命令。此外，我们还将涵盖高级技术，如使用领域模型实体、执行嵌入式次要查找以及使用PHP
    7实现jQuery DataTable查找。'
- en: '[Chapter 6](ch06.html "Chapter 6. Building Scalable Websites"), *Building Scalable
    Websites*, delves into one of the classic problems faced by PHP developers building
    interactive websites—hardcoding HTML forms and later having to perform maintenance.
    A neat and efficient object-oriented approach is presented in this chapter, which,
    with a minimal amount of code, lets you generate entire HTML forms that can easily
    be changed in the initial configuration. Another equally vexing problem is how
    to filter and validate data posted from a form. In this chapter, you will learn
    how to develop an easily configurable filtering and validation factory, which
    can then be applied to any incoming post data.'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 第6章，*构建可扩展的网站*，深入探讨了PHP开发人员在构建交互式网站时面临的经典问题之一——硬编码HTML表单，然后需要进行维护。本章介绍了一种简洁高效的面向对象方法，只需很少的代码，就可以生成整个HTML表单，并且可以在初始配置中轻松更改。另一个同样棘手的问题是如何过滤和验证从表单提交的数据。在本章中，您将学习如何开发一个易于配置的过滤和验证工厂，然后可以应用于任何传入的提交数据。
- en: '[Chapter 7](ch07.html "Chapter 7. Accessing Web Services"), *Accessing Web
    Services*, covers something that is becoming more and more important to web development—the
    ability to publish or consume web services. This chapter covers the two key approaches:
    SOAP and REST. You will learn how to implement SOAP and REST servers and clients.
    Further more, the recipes presented use the Adapter design pattern, which allows
    a considerable degree of customization, meaning that you are not locked into a
    specific design paradigm.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 第7章，*访问Web服务*，涵盖了对Web开发越来越重要的内容——发布或消费Web服务的能力。本章涵盖了两种关键方法：SOAP和REST。您将学习如何实现SOAP和REST服务器和客户端。此外，所呈现的示例使用了适配器设计模式，这允许相当大程度的定制，这意味着您不会被锁定在特定的设计范式中。
- en: '[Chapter 8](ch08.html "Chapter 8. Working with Date/Time and International
    Aspects"), *Working with Date/Time and International Aspects*, helps you cope
    with the fierce competition owing to the growth of the World Wide Web (WWW), leading
    to more and more customers looking to expand their business into international
    markets. This chapter will get you up to speed on all aspects of internationalization,
    including the use of emoticons, complex characters, and translation. Further more,
    you will be shown how to acquire and handle regional information, including language
    settings, number and currency formatting, as well as date and time. Additionally,
    we will cover recipes that show you how to create internationalized calendars,
    which can handle recurring events.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 第8章，*处理日期/时间和国际化方面*，帮助您应对由于万维网（WWW）的增长而导致的激烈竞争，从而导致越来越多的客户希望将业务拓展到国际市场。本章将使您了解国际化的各个方面，包括使用表情符号、复杂字符和翻译。此外，您将学习如何获取和处理区域信息，包括语言设置、数字和货币格式化，以及日期和时间。此外，我们还将介绍如何创建国际化日历的配方，这些日历可以处理重复事件。
- en: '[Chapter 9](ch09.html "Chapter 9. Developing Middleware"), *Developing Middleware*,
    deals with the hottest topic in the open source community right now—middleware.
    As the name implies, middleware is software that can be *snapped* into place,
    which adds value to an existing application without having to alter the source
    code of that application. In this chapter, you will be shown a series of recipes,
    implemented as PSR-7-compliant middleware (see [Appendix](apa.html "Appendix A. Defining
    PSR-7 Classes"), *Defining PSR-7 Classes*, for more details), which perform authentication,
    access control, caching, and routing.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 第9章，*开发中间件*，涉及了当前开源社区中最热门的话题——中间件。顾名思义，中间件是可以“插入”到现有应用程序中，为该应用程序增加价值而无需修改该应用程序源代码的软件。在本章中，您将看到一系列配方，实现为符合PSR-7标准的中间件（有关更多详细信息，请参见[附录](apa.html
    "附录A. 定义PSR-7类")，*定义PSR-7类*），执行身份验证、访问控制、缓存和路由。
- en: '[Chapter 10](ch10.html "Chapter 10. Looking at Advanced Algorithms"), *Looking
    at Advanced Algorithms*, helps you understand that, as a developer, given the
    tremendous number of programmers and companies competing for the same business,
    it is extremely important that you gain mastery of key advanced algorithms. In
    this chapter, using PHP 7, you will learn the theory and application of getters
    and setters, linked lists, bubble sorts, stacks, and binary search. In addition,
    this chapter examines how to use these techniques to implement a search engine,
    and how to handle multi-dimensional arrays.'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 第10章，*深入了解高级算法*，帮助您了解作为开发人员，鉴于大量的程序员和公司竞争同一业务，掌握关键的高级算法非常重要。在本章中，您将使用PHP 7学习获取器和设置器、链表、冒泡排序、栈和二分查找的理论和应用。此外，本章还探讨了如何使用这些技术来实现搜索引擎，以及如何处理多维数组。
- en: '[Chapter 11](ch11.html "Chapter 11. Implementing Software Design Patterns"),
    *Implementing Software Design Patterns*, works on an important aspect of object-oriented
    programming, that is, an understanding of key software design patterns. Without
    this knowledge, when applying for a new position or attempting to attract new
    customers, you, as a developer, will be at a severe disadvantage. This chapter
    covers several critically important patterns including Hydration, Strategy, Mapper,
    Object Relational Mapping, and Pub/Sub.'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 第11章，*实现软件设计模式*，涉及面向对象编程的一个重要方面，即理解关键的软件设计模式。如果没有这些知识，在申请新职位或吸引新客户时，作为开发人员，您将处于严重劣势。本章涵盖了几个非常重要的模式，包括Hydration、Strategy、Mapper、Object
    Relational Mapping和Pub/Sub。
- en: '[Chapter 12](ch12.html "Chapter 12. Improving Web Security"), *Improving Web
    Security*, addresses issues arising from the pervasive nature of the Internet
    today. We see cyber attacks being launched with greater and greater frequency,
    often with devastating financial and personal loss. In this chapter, we will present
    solid practical recipes that, if implemented, will give your websites an exponential
    boost in terms of safety and security. Topics covered include filtering and validation,
    session protection, secure form submission, secure password generation, and the
    use of CAPTCHAs. In addition, a recipe is presented that will show you how to
    encrypt and decrypt data without using the PHP mcrypt extension, which is deprecated
    in PHP 7.1 (and will ultimately be removed from the language).'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '[第12章](ch12.html "第12章。提高Web安全性")，*提高Web安全性*，解决了当今互联网的普遍性带来的问题。我们看到网络攻击的频率越来越高，往往造成严重的财务和个人损失。在本章中，我们将提供实用的实用食谱，如果实施，将大大提高您的网站的安全性。涵盖的主题包括过滤和验证、会话保护、安全表单提交、安全密码生成以及使用CAPTCHA。此外，还介绍了一种食谱，将向您展示如何在不使用PHP
    mcrypt扩展的情况下加密和解密数据，该扩展在PHP 7.1中已被弃用（最终将从语言中删除）。'
- en: '[Chapter 13](ch13.html "Chapter 13. Best Practices, Testing, and Debugging"),
    *Best Practices, Testing, and Debugging*, covers best practices and debugging
    of your code to produce well written code that works. In this chapter, you will
    also learn how to set up and create unit tests, handle unexpected errors and exceptions,
    and generate test data. Several new PHP 7 features are presented, including how
    PHP 7 can "throw" errors. It is important to note that *best practices* are identified
    throughout the book, not just in this chapter!'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '[第13章](ch13.html "第13章。最佳实践、测试和调试")，*最佳实践、测试和调试*，涵盖了编写良好的代码以使其正常工作的最佳实践和调试。在本章中，您还将学习如何设置和创建单元测试，处理意外错误和异常以及生成测试数据。介绍了几个新的PHP
    7功能，包括PHP 7如何“抛出”错误。重要的是要注意，*最佳实践*在整本书中都有提到，不仅仅是在本章中！'
- en: '[Appendix](apa.html "Appendix A. Defining PSR-7 Classes"), *Defining PSR-7
    Classes*, addresses recently accepted PHP Standards Recommendation 7, which defines
    interfaces used in conjunction with middleware. In this appendix, you will be
    shown solid implementations of PSR-7 classes that include value objects, such
    as URI, body, and file upload, as well as request and response objects.'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: '[附录](apa.html "附录A。定义PSR-7类")，*定义PSR-7类*，介绍了最近接受的PHP标准建议7，该标准定义了与中间件一起使用的接口。在本附录中，您将看到PSR-7类的实际实现，其中包括URI、正文和文件上传等值对象，以及请求和响应对象。'
- en: What you need for this book
  id: totrans-17
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书所需的内容
- en: All you need to successfully implement the recipes presented in this book will
    be a computer, 100MB of extra disk space, and a text or code editor (not a word
    processor!). The first chapter will cover how to set up a PHP 7 development environment.
    Having a web server is optional as PHP 7 includes a development web server. An
    Internet connection is not required, but it might be useful to download code (such
    as the set of PSR-7 interfaces), and review PHP 7.x documentation.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 要成功实施本书中提出的食谱，您需要一台计算机、额外100MB的磁盘空间以及一个文本或代码编辑器（而不是文字处理软件！）。第一章将介绍如何设置PHP 7开发环境。拥有Web服务器是可选的，因为PHP
    7包含开发Web服务器。不需要互联网连接，但可能有用以下载代码（例如PSR-7接口集），并查看PHP 7.x文档。
- en: Who this book is for
  id: totrans-19
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书适合谁
- en: This book is for software architects, technical managers, developers from intermediate
    to advanced, or just the curious. You will need to have a basic knowledge of PHP
    programming, especially OOP.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 本书适用于软件架构师、技术经理、中级到高级开发人员，或者只是好奇的人。您需要对PHP编程有基本的了解，特别是面向对象编程。
- en: Sections
  id: totrans-21
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 章节
- en: In this book, you will find several headings that appear frequently (Getting
    ready, How to do it, How it works, There's more, and See also).
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书中，您将找到一些经常出现的标题（准备工作、如何做、它是如何工作的、还有更多以及另请参阅）。
- en: 'To give clear instructions on how to complete a recipe, we use these sections
    as follows:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 为了清晰地说明如何完成食谱，我们使用以下各节：
- en: Getting ready
  id: totrans-24
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: This section tells you what to expect in the recipe, and describes how to set
    up any software or any preliminary settings required for the recipe.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 本节告诉您可以在食谱中期待什么，并描述了如何设置食谱所需的任何软件或任何初步设置。
- en: How to do it...
  id: totrans-26
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做...
- en: This section contains the steps required to follow the recipe.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 本节包含了遵循食谱所需的步骤。
- en: How it works...
  id: totrans-28
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: This section usually consists of a detailed explanation of what happened in
    the previous section.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 本节通常包括对上一节中发生的事情的详细解释。
- en: There's more...
  id: totrans-30
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: This section consists of additional information about the recipe in order to
    make the reader more knowledgeable about the recipe.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 本节包括有关食谱的其他信息，以使读者更加了解食谱。
- en: See also
  id: totrans-32
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另请参阅
- en: This section provides helpful links to other useful information for the recipe.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 本节提供了有关该食谱的其他有用信息的链接。
- en: Conventions
  id: totrans-34
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 约定
- en: In this book, you will find a number of text styles that distinguish between
    different kinds of information. Here are some examples of these styles and an
    explanation of their meaning.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书中，您将找到一些文本样式，用于区分不同类型的信息。以下是这些样式的一些示例以及它们的含义解释。
- en: 'Code words in text, database table names, folder names, filenames, file extensions,
    pathnames, dummy URLs, user input, and Twitter handles are shown as follows: "Finally,
    take the class `LotsProps` defined in the third bullet point and place it in a
    separate file, `chap_10_oop_using_getters_and_setters_magic_call.php`."'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 文本中的代码词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟URL、用户输入和Twitter句柄显示如下：“最后，取出第三个项目中定义的`LotsProps`类，并将其放入一个单独的文件中，`chap_10_oop_using_getters_and_setters_magic_call.php`。”
- en: 'A block of code is set as follows:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 代码块设置如下：
- en: '[PRE0]'
  id: totrans-38
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'When we wish to draw your attention to a particular part of a code block, the
    relevant lines or items are set in bold:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们希望引起您对代码块的特定部分的注意时，相关的行或项目会以粗体显示：
- en: '[PRE1]'
  id: totrans-40
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Any command-line input or output is written as follows:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 任何命令行输入或输出都是这样写的：
- en: '[PRE2]'
  id: totrans-42
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '**New terms** and **important words** are shown in bold. Words that you see
    on the screen, for example, in menus or dialog boxes, appear in the text like
    this: "When the **Purchases** button is clicked, initial purchase info appears."'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: '**新术语**和**重要单词**以粗体显示。屏幕上看到的单词，例如菜单或对话框中的单词，会在文本中以这种方式出现：“当点击**购买**按钮时，初始购买信息会出现。”'
- en: Note
  id: totrans-44
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Warnings or important notes appear in a box like this.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 警告或重要说明会出现在这样的框中。
- en: Tip
  id: totrans-46
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: Tips and tricks appear like this.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 提示和技巧看起来像这样。
