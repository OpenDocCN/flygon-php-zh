- en: Preface
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 前言
- en: Web services has always been an important topic. With REST, things became simpler
    and better. Nowadays, RESTful web services are widely used. It was important a
    decade ago, but **Single Page Applications** (**SPAs**) and mobile applications
    have increased its usage greatly. The aim of this book is to educate PHP developers
    about the RESTful web services architecture, the current tools available to efficiently
    create RESTful web services such as a micro-framework named Lumen, automated API
    testing, the API testing framework, security and microservices architecture.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: Web服务一直是一个重要的话题。有了REST，事情变得更简单更好。如今，RESTful web服务被广泛使用。十年前它很重要，但是单页应用（SPAs）和移动应用程序大大增加了它的使用。本书的目的是教育PHP开发人员有关RESTful
    web服务架构、有效创建RESTful web服务的当前工具，如一个名为Lumen的微框架、自动化API测试、API测试框架、安全性和微服务架构。
- en: Although this book is specific to PHP as we will be building RESTful web services
    in PHP7, it is neither just about PHP7 nor just about REST. RESTful web services
    and implementation in PHP is what we do in this book. However, you will learn
    a lot more than that. You will learn about some PHP features that are new in PHP7\.
    We will cover how we should structure our application and some common threats
    with respect to the web and web services. You will learn how to improve a basic
    RESTful web service and understand the importance of testing and the different
    types of testing. So it is not about just REST or PHP, but also about some minor
    but important programming-related stuff that is simple but makes things a lot
    better in the real world. At the end of this book, you will learn about an architecture
    named microservices.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管这本书是针对PHP的，因为我们将在PHP7中构建RESTful web服务，但它既不仅仅是关于PHP7，也不仅仅是关于REST。RESTful web服务和在PHP中的实现是我们在这本书中要做的。然而，你将学到比这更多。你将了解一些在PHP7中是新的PHP特性。我们将讨论我们应该如何构建我们的应用程序以及与web和web服务相关的一些常见威胁。你将学习如何改进基本的RESTful
    web服务，并了解测试的重要性和不同类型的测试。因此，这不仅仅是关于REST或PHP，还涉及一些次要但重要的与编程相关的东西，这些东西简单但在现实世界中能够让事情变得更好。在本书的结尾，你将了解到一个名为微服务的架构。
- en: In other words, although this book is intended for PHP developers, it will benefit
    them beyond just PHP. So, this book is not a cookbook, but a journey in which
    you start learning about RESTful webservices and PHP7 and then start building
    RESTful web services. You can then keep improving your RESTful web services by
    learning about the problems in it and fixing those. During such improvements,
    you will learn the different things in PHP and benefit even beyond PHP.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 换句话说，尽管这本书是为PHP开发人员而写的，但它将使他们受益不仅仅是在PHP方面。因此，这本书不是一本食谱，而是一个旅程，在这个旅程中，你将开始学习关于RESTful
    web服务和PHP7，然后开始构建RESTful web服务。然后，你可以通过了解其中的问题并加以修复来不断改进你的RESTful web服务。在这样的改进过程中，你将学到PHP中的不同东西，甚至超越PHP。
- en: What this book covers
  id: totrans-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书涵盖的内容
- en: '[Chapter 1](42e167df-3aca-4f21-8d1d-c39d5865ab39.xhtml), *RESTful Web Services,
    Introduction and Motivation*, introduces you to web services, REST architecture,
    the RESTful web services, and its comparison to other web services such as HTTP
    verbs and RESTful endpoints. It also explains web services through the example
    of a blog and then talk about the response format and response code.'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 第1章《RESTful Web服务，介绍和动机》向你介绍了web服务、REST架构、RESTful web服务，以及它与其他web服务的比较，如HTTP动词和RESTful端点。它还通过博客的例子解释了web服务，然后讨论了响应格式和响应代码。
- en: '[Chapter 2](a9520046-cc27-42d5-bb35-db474dd77a75.xhtml), *PHP7, To Code It
    Better*, includes new features and changes in PHP7 that we will either use in
    this book or are very important and worth discussing.'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 第2章《PHP7，更好地编码》包括PHP7中的新特性和变化，我们将在本书中使用或者非常重要并值得讨论。
- en: '[Chapter 3](75dfe538-b06c-46b9-a07f-8ac29a158975.xhtml), *Creating RESTful
    Endpoints*, is about creating REST API endpoints for CRUD operations of a blog
    post in Vanilla PHP. It also explains the manual way of testing API endpoints
    through a REST client named Postman.'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 第3章《创建RESTful端点》是关于在Vanilla PHP中为博客文章的CRUD操作创建REST API端点。它还解释了通过名为Postman的REST客户端手动测试API端点的方法。
- en: '[Chapter 4](6a3f77e9-56c5-4ffd-877d-9b7b212ea40a.xhtml), *Reviewing Design
    Flaws and Security Threats*, reviews what we have built in the preceding chapter
    and highlights the problems and flaws in it so that we can improvise later.'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 第4章《审查设计缺陷和安全威胁》审查了我们在前一章中构建的内容，并强调其中的问题和缺陷，以便我们以后可以改进。
- en: '[Chapter 5](2221827f-3115-4141-a9c1-f4a30cf0f2a9.xhtml), *Load and Resolve
    with Composer*, an Evolutionary, is about an evolutionary tool in the PHP ecosystem:
    composer. This is not just an autoloader or package installer, but a dependency
    manager. So, you will learn about composer in this chapter.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 第5章《使用Composer进行加载和解析》，一个进化，是关于PHP生态系统中的一个进化工具：composer。这不仅仅是一个自动加载程序或包安装程序，而是一个依赖管理器。因此，你将在本章中了解composer。
- en: '[Chapter 6](2c7fef92-d01a-4eef-8b1a-22a4adefc658.xhtml), *Illuminating RESTful
    Web Services with Lumen*, introduces you to a micro-framework named Lumen, in
    which we will rewrite our RESTful web services endpoints and review how this tool
    will significantly improve our speed and application structure.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 第6章《用Lumen照亮RESTful Web服务》向你介绍了一个名为Lumen的微框架，在这个框架中，我们将重写我们的RESTful web服务端点，并审查这个工具将如何显著改进我们的速度和应用程序结构。
- en: '[Chapter 7](f5b89fd4-5e88-40e7-aadd-760f2e64a2ec.xhtml), *Improving RESTful
    Web Services*, equips us to improve what we did in the preceding chapter; you
    will learn how to improve RESTful web services. We will create authentication
    and make a Transformer to separate how JSON structure should look. Also, we will
    improve in terms of security and learn about SSL.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 第7章《改进RESTful Web服务》使我们能够改进前一章中所做的事情；你将学习如何改进RESTful web服务。我们将创建身份验证并制作一个转换器来分离JSON结构应该如何看起来。此外，我们将在安全性方面进行改进，并了解SSL。
- en: '[Chapter 8](9bf9d093-be0f-4123-977c-3584ecfa0ee8.xhtml), *API Testing – Guards
    on the Gates*, introduces the need of automated tests. Will introduce different
    type of tests and then focus on API testing. We will then cover an automated testing
    framework named CodeCeption and write API tests in it.'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 第8章，API测试-门上的守卫，介绍了自动化测试的需求。将介绍不同类型的测试，然后专注于API测试。然后我们将介绍一个名为CodeCeption的自动化测试框架，并在其中编写API测试。
- en: '[Chapter 9](df0ce0a0-9c4c-425d-b940-c48814e51518.xhtml)*, Microservices*, is
    about the microservices architecture. We will understand the benefits and challenges
    of microservices and look into some of possible solutions and trade-offs.'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 第9章，微服务，是关于微服务架构的。我们将了解微服务的好处和挑战，并研究一些可能的解决方案和权衡。
- en: What you need for this book
  id: totrans-14
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 你需要为这本书做好准备
- en: Although I used Ubuntu, any operating system with PHP7 installed on it will
    work fine. The only thing required other than PHP7 will be an RDBMS. This book
    uses MySQL-related settings when connecting to database, so MySQL is ideal, but
    MariaDB or PostgreSQL will also be fine.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管我使用了Ubuntu，但任何安装了PHP7的操作系统都可以正常工作。除了PHP7之外，唯一需要的是关系型数据库管理系统。本书在连接数据库时使用了与MySQL相关的设置，因此MySQL是理想的选择，但MariaDB或PostgreSQL也可以。
- en: Who this book is for
  id: totrans-16
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 这本书适合谁
- en: 'This book is written for the following audience:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 这本书是为以下受众编写的：
- en: Anyone who has some basic PHP knowledge and wants to build RESTful web services.
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 任何有一些基本PHP知识并且想要构建RESTful网络服务的人。
- en: Developers who know basic PHP and have developed a basic dynamic website and
    want to build a RESTful web service.
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 懂得基本PHP并且已经开发了一个基本的动态网站，想要构建RESTful网络服务的开发人员。
- en: Developers who have learned PHP and worked mostly in open source CMS, such as
    WordPress, and want to move toward developing custom applications where a web
    service needs to be built.
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 学习了PHP并且大部分时间在开源CMS中工作，比如WordPress，并且希望转向开发需要构建网络服务的自定义应用程序的开发人员。
- en: Developers who are stuck with legacy systems done in Code Igniter and want to
    explore the modern ecosystem of PHP.
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 被困在Code Igniter中的传统系统中，并希望探索PHP现代生态系统的开发人员。
- en: Developers who have used modern frameworks such as Yii or Laravel, but are not
    sure about the critical pieces required to build the REST API that not only serves
    the purpose but works well in the long run, something that doesn't always need
    manual testing and is maintainable and extendable.
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用过现代框架如Yii或Laravel，但不确定构建REST API所需的关键部分，这些API不仅能够实现目的，而且在长期运行中表现良好，不总是需要手动测试，并且易于维护和扩展的开发人员。
- en: Seasoned PHP developers who have created a very basic API that returns data
    but want to make themselves familiar with how it should be done according to REST
    standards, how it will work when authentication comes into the picture, and how
    to write tests for it.
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有经验的PHP开发人员，已经创建了一个返回数据的基本API，但希望熟悉REST标准下的API构建方式，以及在身份验证出现时的工作方式，以及如何为其编写测试。
- en: Conventions
  id: totrans-24
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 约定
- en: In this book, you will find a number of text styles that distinguish between
    different kinds of information. Here are some examples of these styles and an
    explanation of their meaning.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 在这本书中，你会发现一些文本样式，用于区分不同类型的信息。以下是一些这些样式的例子以及它们的含义解释。
- en: 'Code words in text, database table names, folder names, filenames, file extensions,
    pathnames, dummy URLs, user input, and Twitter handles are shown as follows: "The
    `randGen()` method takes two parameters defining the range of the returned value."'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟URL、用户输入和Twitter句柄显示如下：“`randGen()`方法接受两个参数，定义返回值的范围。”
- en: 'A block of code is set as follows:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 代码块设置如下：
- en: '[PRE0]'
  id: totrans-28
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'When we wish to draw your attention to a particular part of a code block, the
    relevant lines or items are set in bold:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们希望引起您对代码块的特定部分的注意时，相关行或项目会以粗体显示：
- en: '[PRE1]'
  id: totrans-30
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Any command-line input or output is written as follows:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 任何命令行输入或输出都以以下方式书写：
- en: '[PRE2]'
  id: totrans-32
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: New terms and important words are shown in bold. Words that you see on the screen,
    for example, in menus or dialog boxes, appear in the text.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 新术语和重要单词以粗体显示。例如，屏幕上看到的单词，比如菜单或对话框中的单词，会出现在文本中。
- en: Warnings or important notes appear like this.Tips and tricks appear like this.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 警告或重要提示会出现在这样的地方。提示和技巧会出现在这样的地方。
