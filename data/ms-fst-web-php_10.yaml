- en: Going Beyond Performance
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 超越性能
- en: In [Chapter 1](1e519ed0-2065-4d04-b589-e7af72645baa.xhtml), *Faster Web—Getting
    Started*, of this book, we mentioned that performance is also about perception.
    Indeed, as previously stated, time measurement depends on the moment of measurement
    and can vary depending on the complexity of the task to be performed, the psychological
    state of the user and the user's expectations as he might have defined them according
    to what he considers to be the software of reference when executing a certain
    task. Therefore, a good manner in which an application does what it has to do
    also means that the software would have to meet the user's expectations as to
    how this computer program ought to do things. Hence, quicker is not always better.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书的[第1章](1e519ed0-2065-4d04-b589-e7af72645baa.xhtml)《更快的网络-入门》中，我们提到性能也与感知有关。事实上，正如前面所述，时间的测量取决于测量时刻，并且可以根据要执行的任务的复杂性、用户的心理状态以及用户的期望而变化，因为用户可能已经根据他认为是参考软件的标准来定义他们的期望。因此，应用程序完成其任务的良好方式也意味着软件必须满足用户对计算机程序应该如何执行任务的期望。因此，更快并不总是更好。
- en: In this chapter, we will try to better understand the principles behind UI design
    when it comes to the perception of performance. We will see how these design principles
    can have a real effect on the user's subjective perception of time and improve
    perceived performance when there are no real optimizations left to do.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将尝试更好地理解 UI 设计背后的原则，特别是在感知性能方面。我们将看到这些设计原则如何对用户对时间的主观感知产生真正的影响，并在没有真正的优化余地时改善感知性能。
- en: 'Thus, we will cover the following points:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，我们将涵盖以下要点：
- en: Clocked and perceived time
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 计时和感知时间
- en: Speed perception
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 速度感知
- en: Reasonable delay and response times
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 合理的延迟和响应时间
- en: UI design principles and patterns
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: UI 设计原则和模式
- en: Beyond performance tools
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 超越性能工具
- en: Clocked and perceived time
  id: totrans-9
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 计时和感知时间
- en: In the previous chapters, we have addressed the question of performance as it
    is measured by objective time. Objective time is measuring, by the means of a
    tool that divides, in equal units of measurement, a duration between an imminent
    future and an imminent past whose parts are in a continuous persistent flow of
    being.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 在之前的章节中，我们已经讨论了性能如何通过客观时间来衡量。客观时间是通过工具来测量的，它将一个即将到来的未来和一个即将到来的过去之间的持续时间分割成相等的测量单位，这些部分处于持续不断的存在流中。
- en: This definition of objective time shows us that time is the effect of a movement
    of existence that takes us from an undetermined future to the state of a frozen
    past by the means of a constant present. It is objective inasmuch as a third-party
    being is used as a witness to this passing of being from one state to the other
    by dividing it into equal units of measurement. This is the reason why objective
    time is often named clocked time, as it refers to the concept of dividing time
    into equal units of measurement (for example, seconds, minutes, hours, and so
    on). Obviously, the field of science that studies objective time is Physics.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 客观时间的这一定义告诉我们，时间是存在的运动的效果，它将我们从一个不确定的未来状态带到一个冻结的过去状态，通过一个恒定的现在。它是客观的，因为第三方被用作见证这种存在从一个状态到另一个状态的流逝，通过将其分割成相等的测量单位。这就是为什么客观时间经常被称为计时时间，因为它指的是将时间分割成相等的测量单位的概念（例如秒、分钟、小时等）。显然，研究客观时间的科学领域是物理学。
- en: 'This being said, it is unquestionable that humans perceive the duration between
    two moments as being a variable thing. Indeed, we all know that time flies when
    we''re having fun. In the field of psychology, subjective, or perceived, time
    is therefore defined as an impression left on the mind caused by the mind''s level
    of awareness of the actual passing of time between two or more successive events.
    The more the mind is aware, the more time is perceived as having a long duration.
    The less it is aware, the faster time seems to pass:'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 话虽如此，毫无疑问，人类感知两个时刻之间的持续时间是一个可变的事物。事实上，我们都知道玩得开心时时间过得很快。在心理学领域，主观或感知时间因此被定义为心智对两个或多个连续事件之间实际时间流逝的意识水平所留下的印象。意识水平越高，时间被感知为持续时间越长。意识水平越低，时间似乎过得更快：
- en: '![](assets/b1a037d8-6264-4939-a973-13dc43e08237.jpg)The passing of time as
    it is perceived by the mind'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '![](assets/b1a037d8-6264-4939-a973-13dc43e08237.jpg)心智感知的时间流逝'
- en: Many factors can influence how the mind perceives duration. Amongst the most
    notable ones are the emotional state of the person, the perception of the past
    and anticipated events, the general level of stress, body temperature, the presence
    of drugs and the general effects of age on the person's state of mind.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 许多因素可以影响心智感知持续时间。其中最显著的因素包括个人的情绪状态、对过去和预期事件的感知、压力水平、体温、药物的存在以及年龄对个人心智状态的一般影响。
- en: When applying these notions to computer science and more specifically to user
    interface design, the notions behind the study of perceived time become the principles
    that lead us to discovering how to influence a user's perception of duration and
    how this perception impacts the user's overall satisfaction.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 将这些概念应用于计算机科学，特别是用户界面设计时，感知时间研究背后的概念成为引导我们发现如何影响用户对持续时间的感知以及这种感知如何影响用户整体满意度的原则。
- en: Of course, many of these factors are beyond the control of the computer programmer,
    but there are elements to consider when designing user interfaces in order to
    positively impact user satisfaction.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，其中许多因素超出了计算机程序员的控制范围，但在设计用户界面时有一些因素需要考虑，以积极影响用户满意度。
- en: Speed perception
  id: totrans-17
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 速度感知
- en: Firstly, according to Paul Bakaus, a person's consciousness lags about 80 milliseconds
    behind what is currently happening. Indeed, the subjective present is always an
    objective past. Moreover, a person will need more time to understand and fully
    perceive current events if these are more intellectually complex in nature. These
    factors are true of any person. Thus, all users will unconsciously grant this
    free start up time for computer processing.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，根据Paul Bakaus的说法，一个人的意识滞后于当前发生的事情大约80毫秒。事实上，主观的现在总是客观的过去。此外，如果当前事件在智力上更加复杂，一个人需要更多的时间来理解和完全感知。这些因素适用于任何人。因此，所有用户都会在无意识中为计算机处理提供这种免费的启动时间。
- en: 'Secondly, the emotional state of the user has a strong effect on perceived
    time. In a fairly recent study by Awwwards and Google [1], it has been stated
    that anxious or rushed users will perceive more than 50% of websites as loading
    slowly compared to less than 25% for calm and relaxed users. This is equally true
    for users that are on the move compared to those that are comfortably sitting
    down:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 其次，用户的情绪状态对时间的感知有很大影响。根据Awwwards和Google最近的一项研究，焦虑或匆忙的用户会认为超过50%的网站加载速度慢，而冷静放松的用户则不到25%。对于在移动中的用户和舒适坐着的用户同样适用：
- en: '![](assets/ed3826b7-7fd0-48cb-93df-bf2feadbb4dd.jpg)The influence of a person''s
    emotional state or level of activity when it comes to speed perception'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 一个人的情绪状态或活动水平对速度感知的影响
- en: 'Thirdly, age is an important factor when considering perception of time. The
    younger a user is, the more he will be aware of duration. According to the same
    study by Awwwards, 18-24 year old users will only consider half of the visited
    websites as being fast, while 25 to 44-year old users will consider almost three
    quarters of the same websites to have loaded quickly:'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 第三，年龄是考虑时间感知的重要因素。用户年龄越小，他对持续时间的感知就越强烈。根据Awwwards的同一项研究，18-24岁的用户只认为一半的访问网站速度快，而25至44岁的用户则认为几乎四分之三的相同网站加载速度快：
- en: '![](assets/e9c7b259-2a21-4433-b85a-859486157bfc.jpg)The influence of a person''s
    age when it comes to speed perception'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 一个人的年龄对速度感知的影响
- en: Lastly, all users will be less aware of duration when effective use of the application
    begins, even if it is not done loading. Slow retail sites often got high praise
    for perceived speed based entirely on the fact that users can start shopping for
    their desired items even though the browser has not completed the rendering of
    the entire page.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，即使应用程序尚未加载完成，所有用户在开始有效使用应用程序时都会对持续时间的感知减少。缓慢的零售网站通常因为用户可以开始购物所需的商品，即使浏览器尚未完成整个页面的渲染，而获得了高度赞扬。
- en: Thus, there are certain elements concerning speed perception that are common
    to all users and other elements that will depend on specific user profiles. It
    is up to the developer to discover these specific elements in order to have a
    better idea of how to make the best impact on overall user satisfaction.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，有关速度感知的某些元素适用于所有用户，而其他元素则取决于特定用户的个人资料。开发人员需要发现这些特定元素，以更好地了解如何对整体用户满意度产生最佳影响。
- en: Reasonable delay and response times
  id: totrans-25
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 合理的延迟和响应时间
- en: Another factor is what the user perceives as reasonable delay. As stated in
    [Chapter 1](1e519ed0-2065-4d04-b589-e7af72645baa.xhtml), *Faster Web—Getting Started*,
    this is directly related to what the user considers to be the optimal performance
    of a certain type of application. This optimal performance is often determined
    according to what the user might consider to be an application of reference. In
    the case of web-based applications and websites, there are certain thresholds
    to be taken into account as they are shared amongst all web users on average.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个因素是用户认为合理的延迟。正如[第1章](1e519ed0-2065-4d04-b589-e7af72645baa.xhtml)中所述，“更快的Web—入门”，这直接与用户认为某种类型应用程序的最佳性能有关。这种最佳性能通常根据用户可能认为是参考应用程序来确定。在基于Web的应用程序和网站的情况下，有一些阈值需要考虑，因为它们在平均所有Web用户之间是共享的。
- en: 'Firstly, most users consider a response time of 300 milliseconds or less to
    be instantaneous. This is in great part explained by the previously mentioned
    "consciousness lag." As for response times between 300 milliseconds and 1 second,
    these are considered to be a reasonable delay and give the user the impression
    of a smooth transition. Many users will start losing attention and begin feeling
    impatient beyond a three second delay in response time unless there is some sort
    of user flow. Furthermore, a recent study by Google showed that more than 50%
    of users will leave a mobile website if its pages take more than three seconds
    to load. After eight seconds, user attention is considered to have been lost:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，大多数用户认为300毫秒或更短的响应时间是即时的。这在很大程度上可以解释前面提到的“意识滞后”。至于300毫秒到1秒之间的响应时间，这被认为是合理的延迟，并给用户以平稳过渡的印象。除非有某种用户流程，许多用户在响应时间超过三秒的延迟后会开始失去注意力并感到不耐烦。此外，Google最近的一项研究显示，超过50%的用户会在移动网站的页面加载时间超过三秒时离开。超过八秒后，用户的注意力被认为已经丧失：
- en: '![](assets/edd8b560-c638-4ec0-8b89-17a92d754893.jpg)What most users consider
    to be a reasonable delay when using web applications or browsing websites'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数用户认为在使用Web应用程序或浏览网站时，合理的延迟是多少
- en: Secondly, all users that have accomplished a set goal or that have had a good
    perceived speed experience while visiting a website previously will be more forgiving
    and more likely to have a positive perception of duration when visiting the website
    in the future.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 其次，所有已完成设定目标或在以前访问网站时有良好的感知速度体验的用户，在未来访问网站时更愿意宽容，并更有可能对持续时间有积极的感知。
- en: Finally, a positive speed experience will not only confirm user satisfaction
    concerning the website itself, but it will also influence the user's perception
    of the final outcome of the online visit and the overall appreciation of the business's
    brand.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，良好的速度体验不仅会确认用户对网站本身的满意度，还会影响用户对在线访问的最终结果以及对企业品牌的整体欣赏。
- en: UI design principles and patterns
  id: totrans-31
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: UI设计原则和模式
- en: Given all the previous factors and notions, certain UI design principles can
    now be abstracted and understood.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑到所有先前的因素和概念，现在可以提炼和理解某些UI设计原则。
- en: Firstly, speed is important to users. So, if no other optimization of your application
    can be done, make sure your users have the possibility to start using the application
    even before the initial page has finished rendering. This means getting to the
    **First Meaningful Paint** (**FMP**) of the page as quickly as possible in order
    to reduce the time it takes to get to the "time to interactive," which is the
    first moment when a user can start to interact with the application. One basic
    technique that can help you load the page's "above the fold" content before anything
    else is to place all blocking JavaScript at the end of the body of the page. Also,
    certain parts of the page can be cached for faster rendering or can be loaded
    in the browser through AJAX requests that are triggered with a periodical timer
    for example. Finally, HTTP/2's server push feature and HTTP Reverse Proxy servers
    could prove to be very useful when dealing with web pages that depend on many
    CSS and JavaScript libraries and frameworks in order to complete their rendering.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，速度对用户很重要。因此，如果您的应用程序没有其他优化，确保用户在初始页面完成渲染之前就可以开始使用应用程序。这意味着尽快实现页面的**首次有意义绘制**（**FMP**），以减少到达“可交互时间”的时间，这是用户可以开始与应用程序交互的第一时刻。一个基本的技术可以帮助您在任何其他内容之前加载页面的“以上折叠”内容，即将所有阻塞JavaScript放在页面主体的末尾。此外，页面的某些部分可以进行缓存以加快渲染，或者可以通过定期定时器触发的AJAX请求在浏览器中加载。最后，HTTP/2的服务器推送功能和HTTP反向代理服务器在处理依赖许多CSS和JavaScript库和框架的网页渲染时可能非常有用。
- en: 'Secondly, even if a website is taking less than one second to load any of its
    pages, it is possible to speed things up a little more by removing the mobile
    browser''s tap delay. This can be accomplished by adding an HTML meta tag in the
    head section of your pages:'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 其次，即使网站加载任何页面的时间少于一秒，也可以通过去除移动浏览器的点击延迟来加快速度。这可以通过在页面的头部添加HTML meta标签来实现：
- en: '[PRE0]'
  id: totrans-35
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Moreover, you could use the *Chrome* CSS rule in order to accomplish the same
    thing:'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，您可以使用*Chrome* CSS规则来实现相同的效果：
- en: '[PRE1]'
  id: totrans-37
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: For older browsers, please have a look at *FastClick* by FT Labs ([https://github.com/ftlabs/fastclick](https://github.com/ftlabs/fastclick)).
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 对于旧版浏览器，请查看FT Labs的*FastClick*（[https://github.com/ftlabs/fastclick](https://github.com/ftlabs/fastclick)）。
- en: Optionally, since the pages are loading so quickly, it could be possible to
    add simple animations in order to make page transitions smoother. It would be
    best to ease in when prompting the user and to ease out when requiring an instant
    reaction through buttons and menus. These basic transition animations should last
    from 200 to 500 milliseconds, and when using bounce or elastic effects, one should
    think of transitions as lasting between 800 and 1,200 milliseconds. Even though
    these types of visual effects will give the user the impression that the application
    is a quality product, do not over-animate web page transitions and try to prevent
    content jumping when the page is loading unknown image sizes in order to keep
    the whole user experience as smooth and as streamlined as possible.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 出于页面加载速度如此之快的原因，可以选择添加简单的动画，以使页面转换更加流畅。最好在提示用户时缓慢开始，在需要立即反应的按钮和菜单时缓慢结束。这些基本的过渡动画应该持续200到500毫秒，当使用弹跳或弹性效果时，过渡应该持续800到1,200毫秒。尽管这些类型的视觉效果会给用户留下应用程序是高质量产品的印象，但不要过度使用网页过渡动画，并尽量避免在页面加载未知图像大小时出现内容跳动，以使整个用户体验尽可能流畅和简化。
- en: 'Thirdly, if your pages are taking from two to five seconds to load, it is recommended
    that you send some feedback to the users through the use of progress bars, throbbers
    or any other smart distractions. Also, make sure to explain what is going on by
    using simple expressions such as "% of 32 MB uploaded",  "Email is being sent"
    or "Estimated time left: 1 minute".'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 第三，如果您的页面加载需要两到五秒，建议通过进度条、加载指示器或任何其他智能分心来向用户发送一些反馈。同时，确保通过使用简单的表达方式来解释正在发生的事情，例如“32MB中的％已上传”，“正在发送电子邮件”或“剩余时间：1分钟”。
- en: Finally, if a page takes more than five seconds to load, you should get the
    users in active mode by getting them to play a simple game, for example. Of course,
    you can continue using throbbers, progress bars and display short messages to
    explain what is going on. But getting users into active mode will get them to
    be less aware of the passing of time. This is particularly useful for pages requiring
    very long loading times. Indeed, a very active user can completely lose track
    of time and become amused by a pleasant game at hand. This technique can also
    be used if you know that users will be anxious, rushed or on the move when viewing
    your application. Moreover, when pages require very long loading times, it should
    always be possible for the user to abort the operation and retry later.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，如果页面加载时间超过五秒，应该让用户进入活跃模式，让他们玩一个简单的游戏，例如。当然，您可以继续使用加载指示器、进度条和显示简短消息来解释正在发生的事情。但是让用户进入活跃模式将使他们对时间的流逝不那么敏感。这对于需要非常长的加载时间的页面特别有用。事实上，非常活跃的用户完全可能失去时间感，并对手头的愉快游戏感到高兴。如果您知道用户在查看您的应用程序时会感到焦虑、匆忙或在移动中，也可以使用这种技术。此外，当页面需要非常长的加载时间时，用户应该始终有可能中止操作并稍后重试。
- en: 'This will also have a positive impact on the user''s overall satisfaction,
    as it allows a user to be in full control of the lengthy operation:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 这也将对用户的整体满意度产生积极影响，因为它允许用户完全控制这个漫长的操作：
- en: '![](assets/1b0c702a-82a3-4e8f-a86c-1abf72c2f1f7.jpg)Applicable UI design principles
    depending on expected time delays'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: '![](assets/1b0c702a-82a3-4e8f-a86c-1abf72c2f1f7.jpg)根据预期的时间延迟适用的UI设计原则'
- en: Now, let's have a look at how to implement a simple UI design using the previous
    principles and patterns.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们看看如何使用先前的原则和模式来实现简单的UI设计。
- en: '"Beyond Performance" tools'
  id: totrans-45
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: “超越性能”工具
- en: In order to get a better idea of how to implement these types of solutions,
    we will create an animated transition that will wrap itself around a very slow
    PHP script. Thus, we will try to influence the perceived speed of the original
    script.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 为了更好地了解如何实现这些类型的解决方案，我们将创建一个动画过渡，将其包装在一个非常慢的PHP脚本周围。因此，我们将尝试影响原始脚本的感知速度。
- en: 'Our original PHP script will simulate slow execution by running a sleep command.
    Here is the content of the original script:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的原始PHP脚本将通过运行一个睡眠命令来模拟缓慢执行。以下是原始脚本的内容：
- en: '[PRE2]'
  id: totrans-48
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'If we run this script immediately, we definitely perceive that the script is
    slow and that the elapsed time could make us believe that something is going wrong:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们立即运行这个脚本，我们肯定会感到脚本很慢，经过的时间可能会让我们相信出了什么问题：
- en: '![](assets/4e888194-edfe-4a8b-a006-65181e2fea2b.png)The script''s slow execution
    might make us believe that something is going wrong'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: '![](assets/4e888194-edfe-4a8b-a006-65181e2fea2b.png)脚本的缓慢执行可能会让我们相信出了什么问题'
- en: The script truly gives us the impression that it is momentarily hanging.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 这个脚本确实给我们一种瞬间挂起的印象。
- en: We will now create an HTML script that will query the original PHP script and
    obtain the script's output through an AJAX request. This new HTML script will
    also add some transition animations in order to influence the user's perception
    of the original script's speed.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在将创建一个HTML脚本，将查询原始PHP脚本，并通过AJAX请求获取脚本的输出。这个新的HTML脚本还将添加一些过渡动画，以影响原始脚本速度的用户感知。
- en: 'In order to accomplish this, we will add a throbber that is entirely generated
    by CSS and we will use the `jQuery` and `Modernizr` libraries to do the AJAX call.
    These library files are hosted on CDNs in order to benefit from HTTP Reverse Proxy
    caching and browser caching. Here is the content of the second script (`chap10_slow_after.html`):'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 为了实现这一点，我们将添加一个完全由CSS生成的脉动图标，并使用`jQuery`和`Modernizr`库来进行AJAX调用。这些库文件托管在CDN上，以便从HTTP反向代理缓存和浏览器缓存中受益。以下是第二个脚本的内容（`chap10_slow_after.html`）：
- en: '[PRE3]'
  id: totrans-54
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'When running this new script, you should see a throbber appear:'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 运行这个新脚本时，您应该会看到一个脉动图标出现：
- en: '![](assets/58075d52-b38b-48f5-a17e-f1c398ed3d34.png)'
  id: totrans-56
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/58075d52-b38b-48f5-a17e-f1c398ed3d34.png)'
- en: The throbber informs the user that something is happening.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 脉动图标通知用户正在发生某事。
- en: 'And then, a few moments later, you will see a message stating that the desired
    page is being loaded:'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，几秒钟后，您会看到一条消息，说明正在加载所需的页面：
- en: '![](assets/39ad486e-6acd-4829-ac30-e600eb6308b8.png)The new message distracts
    the user and partially resets the user''s perception of the passing of time'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: '![](assets/39ad486e-6acd-4829-ac30-e600eb6308b8.png)新消息会分散用户的注意力，并部分重置用户对时间流逝的感知'
- en: 'This new message aims to distract the user and causes the user''s perception
    of time to be partially reset. Finally, when the AJAX request is completed, the
    throbber and the message both disappear in order to display the other page''s
    content:'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 这条新消息旨在分散用户的注意力，并导致用户对时间的感知部分重置。最后，当AJAX请求完成时，脉动图标和消息都会消失，以显示其他页面的内容：
- en: '![](assets/de017d33-7f74-48fa-bf7a-13fe79764c01.png)The throbber and the message
    both disappear and the original script''s output is displayed'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: '![](assets/de017d33-7f74-48fa-bf7a-13fe79764c01.png)脉动图标和消息都消失了，原始脚本的输出显示出来了'
- en: 'When letting the new script run, we definitely get the impression that the
    original script''s wall time has decreased when, in fact, it has increased due
    to the 0.5 second timeout that was added to the JavaScript function that is making
    the AJAX request. If you run the JavaScript profiler that we mentioned in previous
    chapters on this new script, you will get to see what is happening behind the
    scenes:'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 当让新脚本运行时，我们确实会得到这样的印象，即原始脚本的墙时间已经减少，而实际上，由于在进行AJAX请求的JavaScript函数中添加了0.5秒的超时，它已经增加。如果您在这个新脚本上运行我们在前几章中提到的JavaScript性能分析器，您将看到幕后发生了什么：
- en: '![](assets/6b436c70-3e92-4301-a232-6bc2a0e6677b.png)Most of the execution time
    (six seconds) is passed waiting for the original script to complete its execution'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: '![](assets/6b436c70-3e92-4301-a232-6bc2a0e6677b.png)大部分执行时间（六秒）都是在等待原始脚本完成执行'
- en: The profiler confirms that most of this script's wall time is explained by the
    network I/O to the original script that takes as much time as before to load.
    But what we have achieved with the new wrapper script is giving the impression
    to the end user that we have succeeded in going "beyond performance."
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 性能分析器证实，这个脚本大部分的墙时间都是由于网络I/O到原始脚本所解释的，它花费的时间与以前一样多。但是，通过新的包装脚本，我们给最终用户的印象是我们已经成功地实现了“超越性能”。
- en: Summary
  id: totrans-65
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: In this chapter, we have better understood the principles behind UI design when
    it comes to the perception of performance. We have seen how these design principles
    can have a real effect on the user's subjective perception of time and how they
    can improve perceived performance when there are no real optimizations left to
    do.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们更好地理解了UI设计在性能感知方面的原则。我们已经看到这些设计原则如何对用户对时间的主观感知产生实际影响，以及在没有真正的优化余地时，它们如何改善了感知性能。
- en: We hope that you have found this book useful to better understand the notions
    of performance and efficiency, to discover most of the new underlying web technologies
    that make up what the Internet has become today and to help you on your way to
    mastering the Faster Web.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 希望您发现本书对于更好地理解性能和效率概念、发现构成今天互联网的大部分新的基础网络技术以及帮助您掌握更快速的网络方面是有用的。
- en: References
  id: totrans-68
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 参考资料
- en: '[1] [https://www.awwwards.com/brainfood-mobile-performance-vol3.pdf](https://www.awwwards.com/brainfood-mobile-performance-vol3.pdf)'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: '[1] [https://www.awwwards.com/brainfood-mobile-performance-vol3.pdf](https://www.awwwards.com/brainfood-mobile-performance-vol3.pdf)'
