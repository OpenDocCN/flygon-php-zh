- en: Chapter 2. Setting up your Development Environment
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第2章。设置你的开发环境
- en: In this chapter, we will set up your computer so that you can develop web applications
    using PHP and CouchDB. There are a lot of technologies that come into play when
    developing web applications, so we'll need to make sure that our systems are configured
    properly before we start writing the code.
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 在本章中，我们将设置你的计算机，以便你可以使用PHP和CouchDB开发Web应用程序。在开发Web应用程序时涉及到很多技术，所以在开始编写代码之前，我们需要确保我们的系统配置正确。
- en: 'In this chapter, we will:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将：
- en: Discuss your operating system and how to install the necessary components
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 讨论你的操作系统以及如何安装必要的组件
- en: Learn about the tools needed to develop PHP and CouchDB applications
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 了解开发PHP和CouchDB应用程序所需的工具
- en: Configure our web development environment
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 配置我们的Web开发环境
- en: Learn about Homebrew and install CouchDB
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 了解Homebrew并安装CouchDB
- en: Use Homebrew to install Git for version control
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用Homebrew来安装Git进行版本控制
- en: Confirm that you can make a request to CouchDB
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确认你可以向CouchDB发出请求
- en: Are you ready? Good! Let's get started by talking about operating systems and
    the role they play in setting up your development environment.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 准备好了吗？很好！让我们开始谈论操作系统以及它们在设置你的开发环境中所起的作用。
- en: Operating systems
  id: totrans-10
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 操作系统
- en: This book will focus primarily on the Mac OS X Operating System (10.5 and later).
    While it's possible to develop applications with PHP and CouchDB on any operating
    system, I will be restricting most of my discussions to Mac OS X for simplicity
    and brevity. If you're using a Mac, you can skip ahead to the next section, titled
    *Setting up your web development environment on Mac OS X*.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 本书将主要关注Mac OS X操作系统（10.5及更高版本）。虽然在任何操作系统上都可以开发PHP和CouchDB应用程序，但为了简单和简洁起见，我将大部分讨论限制在Mac
    OS X上。如果你使用的是Mac，你可以直接跳到下一节，标题为*在Mac OS X上设置你的Web开发环境*。
- en: If you're running Windows or Linux, don't worry! I'll give you some setup tips
    to get you started, and then you can take it from there. Again, it's worth noting
    that the command line statements that I use in this book are meant for use on
    a Mac OS. With that in mind, things such as navigating to your working directory,
    the location of files, and many more may not work as described.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你使用的是Windows或Linux，不用担心！我会给你一些设置提示，然后你可以自己操作。值得注意的是，我在本书中使用的命令行语句是为Mac OS设计的。因此，一些东西，比如导航到你的工作目录，文件的位置等等可能不会按照描述的方式工作。
- en: Windows
  id: totrans-13
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Windows
- en: If you're running Windows, there are a few easy steps you need to follow to
    get your machine up and running.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你使用Windows，有一些简单的步骤需要遵循才能让你的机器正常运行。
- en: Installing Apache and PHP
  id: totrans-15
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 安装Apache和PHP
- en: You can simplify the setup of your Apache and PHP environment by using WAMP
    ([http://www.wampserver.com/en/](http://www.wampserver.com/en/)) or XAMPP ([http://www.apachefriends.org/en/xampp.html](http://www.apachefriends.org/en/xampp.html)).
    Both options make it incredibly easy for you to get Apache and PHP set up with
    just a few clicks of the mouse.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以使用WAMP ([http://www.wampserver.com/en/](http://www.wampserver.com/en/))或XAMPP
    ([http://www.apachefriends.org/en/xampp.html](http://www.apachefriends.org/en/xampp.html))来简化Apache和PHP环境的设置。这两个选项都可以让你通过几次鼠标点击轻松设置Apache和PHP。
- en: Installing Git
  id: totrans-17
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 安装Git
- en: '**Git** is available for every operating system. To install Git for Windows,
    navigate to Git''s homepage ([http://git-scm.com/](http://git-scm.com/)), and
    click on the Windows icon.'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: '**Git**适用于每个操作系统。要在Windows上安装Git，请转到Git的主页（[http://git-scm.com/](http://git-scm.com/)），然后点击Windows图标。'
- en: Installing CouchDB
  id: totrans-19
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 安装CouchDB
- en: 'You can find more information on installing CouchDB for Windows using Apache''s
    helpful install pages here: [http://wiki.apache.org/couchdb/Installing_on_Windows](http://wiki.apache.org/couchdb/Installing_on_Windows).'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在这里找到更多关于在Windows上使用Apache的安装页面安装CouchDB的信息：[http://wiki.apache.org/couchdb/Installing_on_Windows](http://wiki.apache.org/couchdb/Installing_on_Windows)。
- en: Linux
  id: totrans-21
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Linux
- en: It's difficult to standardize the `install` methods for Linux because there
    are many different flavors and configurations. But if you are using a generic
    distribution, such as Ubuntu, all of the required tools can be installed with
    just a few simple command line statements.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 由于Linux的不同版本和配置很多，很难标准化Linux的`install`方法。但是如果你使用的是通用发行版，比如Ubuntu，所有必需的工具都可以通过几个简单的命令行语句来安装。
- en: Installing Apache and PHP
  id: totrans-23
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 安装Apache和PHP
- en: '`apt-get` is a powerful tool that we''ll use to install applications and utilities
    in your system. Let''s start by making sure that `apt-get` is up-to-date, by running
    the following command:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: '`apt-get`是一个强大的工具，我们将使用它来在你的系统中安装应用程序和实用工具。让我们首先确保`apt-get`是最新的，通过运行以下命令：'
- en: '[PRE0]'
  id: totrans-25
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Let''s make sure that we can host our PHP pages by installing Apache:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 通过安装Apache来确保我们可以托管我们的PHP页面：
- en: '[PRE1]'
  id: totrans-27
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Now that we have Apache, let''s install PHP and a few other components needed
    to run the code in this book:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 既然我们有了Apache，让我们安装PHP和其他一些运行本书中代码所需的组件：
- en: '[PRE2]'
  id: totrans-29
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'We have everything that is needed to host websites. So, let''s restart Apache
    in order for our changes to take effect:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经准备好托管网站所需的一切。因此，让我们重新启动Apache以使我们的更改生效：
- en: '[PRE3]'
  id: totrans-31
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Installing Git
  id: totrans-32
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 安装Git
- en: 'We''ll use Git for source control; luckily installing it is incredibly easy
    with the help of our friend, `apt-git`. Install Git by running the following command:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将使用Git进行源代码控制；幸运的是，通过我们的朋友`apt-git`的帮助，安装它非常容易。通过运行以下命令来安装Git：
- en: '[PRE4]'
  id: totrans-34
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Installing CouchDB
  id: totrans-35
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 安装CouchDB
- en: CouchDB is the database that we'll use through the course of this book. In this
    section, we'll install and start it using the command line.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: CouchDB是本书中我们将使用的数据库。在本节中，我们将使用命令行安装和启动它。
- en: Install CouchDB with `apt-get:`
  id: totrans-37
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用`apt-get`安装CouchDB：
- en: '[PRE5]'
  id: totrans-38
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Start CouchDB as a service by running the following command:'
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过运行以下命令将CouchDB作为服务启动：
- en: '[PRE6]'
  id: totrans-40
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: That was pretty easy, right? If you are using another Linux distribution, then
    you might have to do some research on how to get all of the required applications
    and tools installed.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 是不是很容易？如果你使用的是其他Linux发行版，那么你可能需要研究如何安装所有必需的应用程序和工具。
- en: Now that we got that out of the way, let's discuss the setup of a web development
    environment for Mac OS X.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 既然我们已经解决了这个问题，让我们讨论一下在Mac OS X上设置Web开发环境。
- en: Setting up your web development environment on Mac OS X
  id: totrans-43
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在Mac OS X上设置你的Web开发环境
- en: In this section, we will go step-by-step and ensure that our development environment
    is set up correctly. From here on out, I'm assuming you are using a machine that
    is running Mac OS X without any special modifications to Apache or PHP. If you've
    done a lot of customization to your development environment, then you probably
    already know how to configure your machine so that everything works properly.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一部分，我们将逐步确保我们的开发环境设置正确。从现在开始，我假设你正在使用运行Mac OS X的机器，没有对Apache或PHP进行任何特殊修改。如果你对开发环境进行了很多定制，那么你可能已经知道如何配置你的机器，使一切正常工作。
- en: 'Now that I''ve bored you to death with disclaimers, let''s get things rolling!
    The first part of our journey is to meet an application that we will spend a lot
    of our time with: `Terminal`.'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我已经用免责声明把你弄得厌烦了，让我们开始吧！我们旅程的第一部分是认识一个我们将花费大量时间的应用程序：`Terminal`。
- en: Terminal
  id: totrans-46
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Terminal
- en: '`Terminal` is a built-in command line utility for Mac OS X. Using the command
    line can be a bit of a strange experience when you are just getting started but
    is extremely powerful once it''s mastered. If the basic commands, such as `cd,
    ls`, and `mkdir` look like gibberish to you, then you might want to do some quick
    research on the UNIX command line.'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: '`Terminal`是Mac OS X内置的命令行实用程序。当你刚开始使用命令行时，可能会有点奇怪的体验，但一旦掌握了，它就非常强大。如果基本命令，如`cd,
    ls`和`mkdir`对你来说像胡言乱语，那么你可能需要快速了解一下UNIX命令行。'
- en: Here's how you open `Terminal:`
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 这是如何打开`Terminal`的：
- en: Open **Finder**.
  id: totrans-49
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开**Finder**。
- en: Click on **Applications**.
  id: totrans-50
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**应用程序**。
- en: Find the folder titled **Utilities**, and open it.
  id: totrans-51
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 找到名为**实用工具**的文件夹，并打开它。
- en: Drag the **Terminal** icon right into your dock; you will be using it a lot!
  id: totrans-52
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**Terminal**图标拖到你的dock中；你会经常使用它！
- en: Click on the icon for **Terminal** in your dock.![Terminal](graphics/3586_02_005.jpg)
  id: totrans-53
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击你dock中的**Terminal**图标。![Terminal](graphics/3586_02_005.jpg)
- en: Time for action — using Terminal to show hidden files
  id: totrans-54
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 行动时间——使用Terminal显示隐藏文件
- en: Now that we have `Terminal` up and running, let's get familiar with it by running
    a quick command that exposes all of the hidden files on your computer. Whether
    you know it or not, there are a variety of files that are hidden, and they will
    need to be visible in order for us to complete the setup of our development environment.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经启动了`Terminal`，让我们通过运行一个快速命令来熟悉它，这个命令会显示你电脑上所有的隐藏文件。不管你知不知道，有各种各样的文件是隐藏的，它们需要可见才能完成我们的开发环境设置。
- en: Start by opening **Terminal**.
  id: totrans-56
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先打开**Terminal**。
- en: 'Type in the following command to allow the Finder to show hidden files, press
    *Enter* when you are ready:'
  id: totrans-57
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入以下命令以允许Finder显示隐藏文件，准备好后按*Enter*：
- en: '[PRE7]'
  id: totrans-58
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: In order to see the files, you will need to restart the `Finder`, type the following
    command, and press *Enter:*
  id: totrans-59
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为了看到文件，你需要重新启动`Finder`，输入以下命令，然后按*Enter*：
- en: '[PRE8]'
  id: totrans-60
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: What just happened?
  id: totrans-61
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 刚刚发生了什么？
- en: 'We just used `Terminal` to run a special command that configured `Finder` to
    show the hidden files and then ran another command to restart the `Finder`. It''s
    not important for you to remember these commands or fully understand what they
    mean; you probably will never have to type this again. If you look around your
    computer you should see quite a few files that you haven''t seen before. Here''s
    a quick example of what my hard drive looks like now:'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 我们刚刚使用`Terminal`运行了一个特殊命令，配置了`Finder`显示隐藏文件，然后运行了另一个命令重新启动了`Finder`。你不需要记住这些命令或完全理解它们的含义；你可能永远不需要再次输入这些命令。如果你四处看看你的电脑，你应该会看到很多以前没见过的文件。这是我电脑上的一个快速示例：
- en: '![What just happened?](graphics/3586OS_02_006.jpg)'
  id: totrans-63
  prefs: []
  type: TYPE_IMG
  zh: '![刚刚发生了什么？](graphics/3586OS_02_006.jpg)'
- en: Tip
  id: totrans-64
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: 'If it irritates you to see so many files, you can hide hidden files again once
    the setup is complete. You can do this by simply running the following command
    in `Terminal:` defaults write `com.apple.finder AppleShowAllFiles FALSE`. Then
    by restarting the `Finder` by running: `killall Finder`.'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 如果看到这么多文件让你烦恼，你可以在设置完成后再次隐藏隐藏文件。你只需在`Terminal`中运行以下命令：defaults write `com.apple.finder
    AppleShowAllFiles FALSE`。然后通过运行以下命令重新启动`Finder`：`killall Finder`。
- en: Now that all of the files on our machine are shown, let's talk about text editors,
    which will be the primary way you'll view and edit your development project.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们的机器上所有的文件都显示出来了，让我们谈谈文本编辑器，这将是你查看和编辑开发项目的主要方式。
- en: Text editor
  id: totrans-67
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 文本编辑器
- en: In order to write code, you will need a solid text editor. There are a lot of
    text editors out there, and you can use whichever one you prefer. All of the code
    in this book will work with any of them. I personally prefer `TextMate` because
    of its simplicity and ease-of-use.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 为了编写代码，你需要一个可靠的文本编辑器。有很多文本编辑器可供选择，你可以使用任何你喜欢的。本书中的所有代码都适用于任何文本编辑器。我个人更喜欢`TextMate`，因为它简单易用。
- en: 'You can download and install `TextMate` here: [http://macromates.com/](http://macromates.com/).'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在这里下载并安装`TextMate`：[http://macromates.com/](http://macromates.com/)。
- en: Apache
  id: totrans-70
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Apache
- en: '**Apache** is an open source web server and the engine that will run the PHP
    code that you''ll write in this book. Luckily, Apache comes pre-installed on all
    installations of Mac OS X, so all we need to do is start it using `Terminal`.'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: Apache是一个开源的Web服务器，也是将在本书中编写的PHP代码运行的引擎。幸运的是，Apache预装在所有的Mac OS X安装中，所以我们只需要使用`Terminal`来启动它。
- en: Open **Terminal**.
  id: totrans-72
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开**Terminal**。
- en: 'Run the following command to start Apache:'
  id: totrans-73
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 运行以下命令启动Apache：
- en: '[PRE9]'
  id: totrans-74
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'That''s all it takes to get Apache up and running on your computer. Apache
    won''t let you turn it on if it''s already running. Try typing that same statement
    again; your machine will alert you that it''s already running:'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 这就是在你的电脑上启动Apache所需的全部。如果Apache已经在运行，它不会让你启动它。尝试再次输入相同的语句；你的机器会提醒你它已经在运行了：
- en: '![Apache](graphics/3586OS_02_008.jpg)'
  id: totrans-76
  prefs: []
  type: TYPE_IMG
  zh: '![Apache](graphics/3586OS_02_008.jpg)'
- en: Note
  id: totrans-77
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: 'It''s very unlikely, but on the off chance that your machine does not have
    Apache installed, you can install it by following the instructions on Apache''s
    website: [http://httpd.apache.org/docs/2.0/install.html](http://httpd.apache.org/docs/2.0/install.html).'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 这很不可能，但万一您的机器没有安装Apache，您可以按照Apache网站上的说明进行安装：[http://httpd.apache.org/docs/2.0/install.html](http://httpd.apache.org/docs/2.0/install.html)。
- en: Web browser
  id: totrans-79
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Web浏览器
- en: You probably use a web browser every day when surfing the Internet, but it will
    also double up as a powerful debugging tool for us. I will use Chrome as my web
    browser, but the up-to-date versions of Safari, Firefox, or Internet Explorer
    will work just fine as well. Let's use our web browser to check that Apache is
    accessible.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 您可能每天都在上网时使用Web浏览器，但它也可以作为我们强大的调试工具。我将使用Chrome作为我的Web浏览器，但Safari、Firefox或Internet
    Explorer的最新版本也可以正常工作。让我们使用我们的Web浏览器来检查Apache是否可访问。
- en: Time for action — opening your web browser
  id: totrans-81
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 行动时间-打开您的Web浏览器
- en: We are going to access the Apache service on our machine by opening a web browser,
    and navigating to Apache's URL.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将通过打开Web浏览器并导航到Apache的URL来访问我们机器上的Apache服务。
- en: Open your web browser.
  id: totrans-83
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开您的Web浏览器。
- en: Type `http://localhost` into the address bar, and hit *Enter*.
  id: totrans-84
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在地址栏中输入“http://localhost”，然后按*Enter*键。
- en: Your browser will display the following message to you:![Time for action — opening
    your web browser](graphics/3586OS_02_010.jpg)
  id: totrans-85
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您的浏览器将向您显示以下消息：![行动时间-打开您的Web浏览器](graphics/3586OS_02_010.jpg)
- en: What just happened?
  id: totrans-86
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 刚刚发生了什么？
- en: We used the web browser to access Apache, and in return, it showed us a quick
    verification that everything was hooked up correctly. Our computer knew that we
    were trying to access our local Apache service because of the URL `http://localhost`.
    The URL `http://localhost` actually maps to the address `http://127.0.0.1:80`,
    which is the address and port of the Apache service. You will see `127.0.0.1`
    come up again when we discuss CouchDB.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 我们使用Web浏览器访问了Apache，作为回报，它向我们显示了一个快速的验证，证明一切都正确连接。我们的计算机知道我们正在尝试访问本地Apache服务，因为URL`http://localhost`。URL`http://localhost`实际上映射到地址`http://127.0.0.1:80`，这是Apache服务的地址和端口。当我们讨论CouchDB时，您将再次看到`127.0.0.1`。
- en: PHP
  id: totrans-88
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: PHP
- en: '`PHP` is in the title of this book, so you know it will play a big part in
    the development process. PHP is already installed on your machine, so you have
    nothing to install. Let''s just double check that you can access PHP by using
    Terminal.'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: '`PHP`是本书的标题，因此您知道它将在开发过程中发挥重要作用。PHP已经安装在您的机器上，因此您无需安装任何内容。让我们通过Terminal再次检查您是否可以访问PHP。'
- en: Time for action — checking your PHP version
  id: totrans-90
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 行动时间-检查您的PHP版本
- en: We are going to check that PHP is working on your computer by accessing it with
    Terminal.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将通过Terminal访问您的计算机上的PHP来检查PHP是否正常工作。
- en: Open **Terminal**.
  id: totrans-92
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开**Terminal**。
- en: 'Run the following command for PHP to return its version:'
  id: totrans-93
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 运行以下命令以返回PHP的版本：
- en: '[PRE10]'
  id: totrans-94
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: '**Terminal** will respond with something similar to the following:![Time for
    action — checking your PHP version](graphics/3586OS_02_015.jpg)'
  id: totrans-95
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**Terminal**将以类似以下内容的方式做出响应：![行动时间-检查您的PHP版本](graphics/3586OS_02_015.jpg)'
- en: What just happened?
  id: totrans-96
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 刚刚发生了什么？
- en: We used **Terminal** to ensure that we had PHP running correctly on our machine.
    Not only did we check to make sure that PHP was accessible, but we also asked
    for its version. Your version may differ slightly from mine, but it only matters
    that your version is PHP 5.3 or higher.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 我们使用**Terminal**确保我们的机器上的PHP正确运行。我们不仅检查了PHP是否可访问，还要求其版本。您的版本可能与我的略有不同，但只要您的版本是PHP
    5.3或更高版本即可。
- en: Note
  id: totrans-98
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: 'If your version is lower than PHP 5.3 or you were unable to get PHP to respond,
    you can install or upgrade by looking at PHP''s manual: [http://php.net/manual/en/install.macosx.php](http://php.net/manual/en/install.macosx.php).'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您的版本低于PHP 5.3或无法使PHP响应，您可以通过查看PHP手册进行安装或升级：[http://php.net/manual/en/install.macosx.php](http://php.net/manual/en/install.macosx.php)。
- en: Time for action — making sure that Apache can connect to PHP
  id: totrans-100
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 行动时间-确保Apache可以连接到PHP
- en: In order to create a web application, Apache needs to be able to run the PHP
    code. So, we are going to check that Apache can access PHP.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 为了创建一个Web应用程序，Apache需要能够运行PHP代码。因此，我们将检查Apache是否可以访问PHP。
- en: 'Use **Finder** to navigate to the following folder: `/etc/apache2`.'
  id: totrans-102
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用**Finder**导航到以下文件夹：`/etc/apache2`。
- en: Open the file named `httpd.conf` in your text editor.
  id: totrans-103
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在您的文本编辑器中打开名为`httpd.conf`的文件。
- en: Look through the file, and find the following line (it should be around line
    `116):`
  id: totrans-104
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查看文件，并找到以下行（它应该在第116行左右）：
- en: '[PRE11]'
  id: totrans-105
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'Remove the hash (#) symbol that is in front of this string to uncomment this
    line of the `config` file. It''s possible that your configuration file may already
    have this uncommented. If it does, then you don''t have to change anything. Regardless,
    the end result should look as follows:'
  id: totrans-106
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 删除`config`文件中位于此字符串前面的哈希（#）符号以取消此行的注释。您的配置文件可能已经取消了此注释。如果是这样，那么您无需更改任何内容。无论如何，最终结果应如下所示：
- en: '[PRE12]'
  id: totrans-107
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: Open **Terminal**.
  id: totrans-108
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开**Terminal**。
- en: 'Restart Apache by running the following command:'
  id: totrans-109
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过运行以下命令重新启动Apache：
- en: '[PRE13]'
  id: totrans-110
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: What just happened?
  id: totrans-111
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 刚刚发生了什么？
- en: We opened Apache's main configuration file, `httpd.conf`, and uncommented a
    line so that Apache can load PHP. We then restarted the Apache server, so that
    the updated configuration would take effect.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 我们打开了Apache的主配置文件`httpd.conf`，并取消了一行的注释，以便Apache可以加载PHP。然后我们重新启动了Apache服务器，以便更新的配置生效。
- en: Time for action — creating a quick info page
  id: totrans-113
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 行动时间-创建一个快速信息页面
- en: We are going to double-check that Apache can render PHP scripts by quickly creating
    a `phpinfo` page that will display a wide array of data about your configuration.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将通过快速创建一个`phpinfo`页面来双重检查Apache是否能够渲染PHP脚本，该页面将显示有关您配置的大量数据。
- en: Open your text editor.
  id: totrans-115
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开您的文本编辑器。
- en: 'Create a new file that contains the following code:'
  id: totrans-116
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个包含以下代码的新文件：
- en: '[PRE14]'
  id: totrans-117
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'Save the file with the name, `info.php`, and save that file in the following
    location: `/Library/WebServer/Documents/info.php`.'
  id: totrans-118
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将文件保存为`info.php`，并将该文件保存在以下位置：`/Library/WebServer/Documents/info.php`。
- en: Open your browser.
  id: totrans-119
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开您的浏览器。
- en: Navigate your browser to `http://localhost/info.php`.
  id: totrans-120
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将浏览器导航到`http://localhost/info.php`。
- en: Your browser will display the following page:![Time for action — creating a
    quick info page](graphics/3586OS_02_020.jpg)
  id: totrans-121
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您的浏览器将显示以下页面：![Time for action — creating a quick info page](graphics/3586OS_02_020.jpg)
- en: What just happened?
  id: totrans-122
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 刚刚发生了什么？
- en: 'We used our text editor to create a file called `info.php` that contained a
    special PHP function called `phpinfo`. We saved the `info.php` file into the folder:
    `/Library/Webserver/Documents`. This folder is the default location (in Mac OS
    X only) for all of the files that your Apache service will display. When your
    browser hit the `info.php` page, the `phpinfo` looked at your PHP installation
    and returned an HTML file with details about your configuration. You can tell
    that there is a lot going on here. Feel free to poke around and look at some of
    the information before we move on.'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 我们使用文本编辑器创建了一个名为`info.php`的文件，其中包含一个名为`phpinfo`的特殊PHP函数。我们将`info.php`文件保存到文件夹：`/Library/Webserver/Documents`。这个文件夹是Apache服务将显示的所有文件的默认位置（仅适用于Mac
    OS X）。当您的浏览器访问`info.php`页面时，`phpinfo`会查看您的PHP安装并返回一个包含有关您配置详细信息的HTML文件。您可以看到这里有很多事情要做。在我们继续之前，随意浏览并查看一些信息。
- en: Fine tuning Apache
  id: totrans-124
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 微调Apache
- en: We finally have our basic web development environment set up. However there
    are a few things we'll need to adjust in Apache in order for us to build our application;
    the first of which is enabling a great built-in module called `mod_rewrite`.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 我们最终建立了基本的Web开发环境。但是，为了构建我们的应用程序，我们需要调整Apache中的一些内容；首先是启用一个名为`mod_rewrite`的内置模块。
- en: Time for action — further configuration of Apache
  id: totrans-126
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 行动时间 — 进一步配置Apache
- en: '`mod_rewrite` will allow us to rewrite the requested URLs on the fly, which
    will help us build an application with clean URLs. The rewriting itself is handled
    in another Apache configuration file called `.htaccess`, which we will touch on
    in [Chapter 4](ch04.html "Chapter 4. Starting your Application"), *Starting Your
    Application*. In the following section, we''ll configure Apache, so that `mod_rewrite`
    is enabled.'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: '`mod_rewrite`将允许我们动态重写请求的URL，这将帮助我们构建具有清晰URL的应用程序。重写本身在另一个名为`.htaccess`的Apache配置文件中处理，我们将在[第4章](ch04.html
    "第4章。启动您的应用程序") *启动您的应用程序*中介绍。在下一节中，我们将配置Apache，以便启用`mod_rewrite`。'
- en: 'Use **Finder** to navigate to the following folder: `/etc/apache2`.'
  id: totrans-128
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用**Finder**导航到以下文件夹：`/etc/apache2`。
- en: Locate and open a file named `httpd.conf` in your text editor.
  id: totrans-129
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在文本编辑器中找到并打开名为`httpd.conf`的文件。
- en: Look through the file, and find this line (it should be line `114):`
  id: totrans-130
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 浏览文件，并找到此行（应该是第114行）：
- en: '[PRE15]'
  id: totrans-131
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'Uncomment the line by removing the hash (#) symbol. It''s possible that your
    system is already configured to enable `mod_rewrite`. Regardless, make sure it
    matches the following code:'
  id: totrans-132
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 取消注释行，删除井号（#）符号。您的系统可能已经配置为启用`mod_rewrite`。无论如何，请确保它与以下代码匹配：
- en: '[PRE16]'
  id: totrans-133
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: Look through the file, and find this chunk of code (it should go from line `178-183):`
  id: totrans-134
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 浏览文件，并找到此代码块（应该从第178-183行开始）：
- en: '[PRE17]'
  id: totrans-135
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'Alter the line of code that says `AllowOverride None` and change it to say
    `AllowOverride All`. The resulting section should look as follows:'
  id: totrans-136
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更改代码行，将`AllowOverride None`更改为`AllowOverride All`。结果部分应如下所示：
- en: '[PRE18]'
  id: totrans-137
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: Keep scrolling through the file until you find this chunk of code (should go
    from line `210-215):`
  id: totrans-138
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 继续滚动文件，直到找到这段代码（应该从第210-215行开始）：
- en: '[PRE19]'
  id: totrans-139
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'Alter the line of this code that says `AllowOverride None` and change it to
    read `AllowOverride All`. The resulting section should look as follows:'
  id: totrans-140
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更改此代码行，将`AllowOverride None`更改为`AllowOverride All`。结果部分应如下所示：
- en: '[PRE20]'
  id: totrans-141
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: Open **Terminal**.
  id: totrans-142
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开**Terminal**。
- en: 'Restart Apache by running the following command:'
  id: totrans-143
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过运行以下命令重新启动Apache：
- en: '[PRE21]'
  id: totrans-144
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: What just happened?
  id: totrans-145
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 刚刚发生了什么？
- en: We just configured Apache so that it can operate more freely and include the
    ability to rewrite URLs using the `mod_rewrite` module. We then changed the configuration
    of `AllowOverride` from `None` to `All. AllowOverride` tells the server what to
    do when it finds the `.htaccess` file. With this being set to `None`, the `.htaccess`
    file is ignored. Changing the setting to `All` allows settings to be overridden
    in an `.htaccess` file. This is exactly what we'll do as we start building out
    our application in [Chapter 4](ch04.html "Chapter 4. Starting your Application").
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 我们刚刚配置了Apache，使其可以更自由地运行，并包括使用`mod_rewrite`模块重写URL的能力。然后，我们将`AllowOverride`的配置从`None`更改为`All`。`AllowOverride`告诉服务器在找到`.htaccess`文件时该怎么做。将此设置为`None`时，将忽略`.htaccess`文件。将设置更改为`All`允许在`.htaccess`文件中覆盖设置。这正是我们将在[第4章](ch04.html
    "第4章。启动您的应用程序")中开始构建应用程序时要做的事情。
- en: Our web development setup is complete!
  id: totrans-147
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 我们的Web开发设置已经完成！
- en: We now have everything set up for us to create standard web applications. We
    have Apache handling requests. We have PHP connected and responding to calls from
    Apache, and we have our text editor ready for any code that we can throw at it.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在已经设置好了创建标准Web应用程序的一切。我们有Apache处理请求。我们已经连接并响应来自Apache的PHP调用，并且我们的文本编辑器已准备好接受我们可以投入其中的任何代码。
- en: There are still a few pieces missing for us to have a complete development environment.
    In the next section, we will install CouchDB as our database.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还需要一些部分才能拥有完整的开发环境。在下一节中，我们将安装CouchDB作为我们的数据库。
- en: Installing CouchDB
  id: totrans-150
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 安装CouchDB
- en: 'In this section, we will install CouchDB 1.0 onto your machine and get it prepared
    for development. There are a variety of ways to get CouchDB on your machine, so
    if you have issues with the following install process, please reference CouchDB''s
    website here: [http://wiki.apache.org/couchdb/Installation](http://wiki.apache.org/couchdb/Installation).'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将在您的计算机上安装CouchDB 1.0并为其进行开发准备。有多种方法可以在您的计算机上安装CouchDB，因此如果您在以下安装过程中遇到问题，请参考CouchDB的网站：[http://wiki.apache.org/couchdb/Installation](http://wiki.apache.org/couchdb/Installation)。
- en: Homebrew
  id: totrans-152
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Homebrew
- en: In order to install the rest of the components that we will use in this book,
    we will use a utility called **Homebrew**. Homebrew is the easiest way to install
    the UNIX tools that Apple left out of OSX. Before we can use Homebrew to install
    other tools, we first need to install Homebrew.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 为了安装本书中将使用的其余组件，我们将使用一个名为**Homebrew**的实用程序。Homebrew是安装苹果OSX中遗漏的UNIX工具的最简单方法。在我们可以使用Homebrew安装其他工具之前，我们首先需要安装Homebrew。
- en: Time for action — installing Homebrew
  id: totrans-154
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装Homebrew的时间到了
- en: We are going to use **Terminal** to download Homebrew and install it onto our
    computer.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将使用**终端**下载Homebrew并将其安装到我们的计算机上。
- en: Open **Terminal**.
  id: totrans-156
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开**终端**。
- en: 'Type the following commands into **Terminal**, pressing *Enter* after each
    line:'
  id: totrans-157
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**终端**中输入以下命令，每行后按*Enter*：
- en: '[PRE22]'
  id: totrans-158
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: '**Terminal** will respond with a progress bar and show you how the installation
    process went. When the installation is complete, you will receive a success message,
    and you will have control of the **Terminal** again.'
  id: totrans-159
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**终端**将会显示一个进度条，告诉你安装过程进行得如何。安装完成后，你会收到一个成功的消息，然后你就可以再次控制**终端**了。'
- en: What just happened?
  id: totrans-160
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 刚刚发生了什么？
- en: We added the directory `/usr/local`, which is where Homebrew will save all of
    its files. Then we made sure that the folder was owned by us (the current user).
    We then installed Homebrew using a `cURL` statement to grab the repository from
    Github (I'll cover `cURL` later in this chapter; we are going to use it quite
    a bit). After grabbing the repository, it was unzipped, using the command line
    function `tar`, and placed into the `/usr/local` folder.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 我们添加了目录`/usr/local`，这是Homebrew将保存所有文件的位置。然后我们确保该文件夹归我们所有（当前用户）。然后我们使用`cURL`语句从Github获取存储库（我将在本章后面介绍`cURL`；我们将经常使用它）。获取存储库后，使用命令行函数`tar`解压缩，并将其放入`/usr/local`文件夹中。
- en: Time for action — installing CouchDB
  id: totrans-162
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装CouchDB的时间到了
- en: Now that we have Homebrew installed, we are finally ready to install CouchDB.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经安装了Homebrew，终于可以安装CouchDB了。
- en: Note
  id: totrans-164
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: 'Please note that before Homebrew installs CouchDB, it will install all of its
    dependencies, which include such things as: Erlang, Spidermonkey, ICU, and so
    on. This section might take up to 10-15 minutes to complete, because they are
    being compiled locally on your machine. Don''t worry if it seems like it''s taking
    too long; this is normal.'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，在Homebrew安装CouchDB之前，它将安装所有的依赖项，包括：Erlang，Spidermonkey，ICU等。这一部分可能需要10-15分钟才能完成，因为它们是在您的计算机上本地编译的。如果看起来花费的时间太长，不要担心；这是正常的。
- en: We are going to install CouchDB using Homebrew.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将使用Homebrew安装CouchDB。
- en: Open Terminal
  id: totrans-167
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开终端
- en: 'Run the following command:'
  id: totrans-168
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 运行以下命令：
- en: '[PRE23]'
  id: totrans-169
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: Terminal will respond with a lot of text over the next couple of minutes. You
    will see it grab each dependency and then install it. At the very end, you will
    receive a success message.
  id: totrans-170
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来的几分钟，终端将会回复大量的文本。您将看到它获取每个依赖项，然后安装它。最后，您将收到一个成功的消息。
- en: What just happened?
  id: totrans-171
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 刚刚发生了什么？
- en: We just installed CouchDB from the source and downloaded all of its dependencies.
    After installation, Homebrew put everything in the right folders and configured
    everything we need to use CouchDB.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 我们刚刚从源代码安装了CouchDB并下载了所有的依赖项。安装完成后，Homebrew将所有内容放在正确的文件夹中，并配置了我们使用CouchDB所需的一切。
- en: Checking that our setup is complete
  id: totrans-173
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 检查我们的设置是否完成
- en: We just accomplished a lot in the past few pages. We've set up our web development
    environment and installed CouchDB. Now, let's double check that we can run and
    access CouchDB.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 在过去的几页中，我们已经完成了很多工作。我们已经设置好了我们的Web开发环境并安装了CouchDB。现在，让我们再次确认我们能否运行和访问CouchDB。
- en: Starting CouchDB
  id: totrans-175
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 启动CouchDB
- en: CouchDB is easy to manage. It operates as a service that we can start and stop
    by using our command line. Let's start CouchDB with a command line statement.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: CouchDB很容易管理。它作为一个服务运行，我们可以使用命令行启动和停止它。让我们用命令行语句启动CouchDB。
- en: Open **Terminal**.
  id: totrans-177
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开**终端**。
- en: 'Run the following command:'
  id: totrans-178
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 运行以下命令：
- en: '[PRE24]'
  id: totrans-179
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: '**Terminal** will reply with the following:'
  id: totrans-180
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**终端**将回复以下内容：'
- en: '[PRE25]'
  id: totrans-181
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: Great! Now that we have started CouchDB as a background process, it will sit
    in the background and handle requests until we shut it off.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 太好了！现在我们已经将CouchDB作为后台进程启动，它将在后台处理请求，直到我们关闭它。
- en: Time for action — checking that CouchDB is running
  id: totrans-183
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 检查CouchDB是否正在运行的时间到了
- en: We are going to attempt to hit the CouchDB service on our machine by using the
    command line utility `cURL` (we'll spell it `curl` from here on out for the sake
    of simplicity) that allows you to make raw HTTP requests. `curl` is our main method
    of communication with CouchDB. Let's start with a `curl` statement to talk to
    CouchDB.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将尝试使用命令行实用程序`cURL`（为了简单起见，我们将其拼写为`curl`）来访问我们机器上的CouchDB服务，它允许您发出原始的HTTP请求。`curl`是我们与CouchDB进行通信的主要方法。让我们从一个`curl`语句开始与CouchDB交流。
- en: Open **Terminal**.
  id: totrans-185
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开**终端**。
- en: 'Run the following statement to create a request that will hit CouchDB:'
  id: totrans-186
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 运行以下语句创建一个将访问CouchDB的请求：
- en: '[PRE26]'
  id: totrans-187
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: '**Terminal** will reply with the following:'
  id: totrans-188
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**终端**将回复以下内容：'
- en: '[PRE27]'
  id: totrans-189
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: What just happened?
  id: totrans-190
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 刚刚发生了什么？
- en: We just used `curl` to communicate with the CouchDB service by issuing a `GET`
    request. By default, `curl` will assume that we're trying to issue a `GET` request
    unless we tell it otherwise. We issued our `curl` statement to `http://127.0.0.1:5984`.
    Breaking this resource down into pieces, `http://127.0.0.1` is the IP of our local
    computer, and `5984` is the port that CouchDB runs on by default.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 我们刚刚使用`curl`通过发出`GET`请求与CouchDB服务进行通信。默认情况下，`curl`会假定我们正在尝试发出`GET`请求，除非我们告诉它不是。我们向`http://127.0.0.1:5984`发出了我们的`curl`语句。将这个资源分解成几部分，`http://127.0.0.1`是我们本地计算机的IP，`5984`是CouchDB默认运行的端口。
- en: Running CouchDB as a background process
  id: totrans-192
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 作为后台进程运行CouchDB
- en: If we were to stop our configuration here, you would have to run `couchdb b`
    each time you started development. This will quickly turn into a pain point for
    us. So, let's run CouchDB as a system daemon that will always run in the background,
    even after you restart your computer. In order to do this, we will use a Mac OS
    X service management framework, called `launchd`, that manages system daemons
    and allows them to be started and stopped.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们在这里停止配置，您将不得不在每次开始开发时运行`couchdb b`。这对我们来说很快就会成为一个痛点。因此，让我们将CouchDB作为一个系统守护程序运行，即使在重新启动计算机后也会一直在后台运行。为了做到这一点，我们将使用一个名为`launchd`的Mac
    OS X服务管理框架，该框架管理系统守护程序并允许启动和停止它们。
- en: Open **Terminal**.
  id: totrans-194
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开**终端**。
- en: 'Kill the background process of CouchDB, by running the following command:'
  id: totrans-195
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过运行以下命令杀死CouchDB的后台进程：
- en: '[PRE28]'
  id: totrans-196
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: 'If CouchDB was running, it would return the following text:'
  id: totrans-197
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果CouchDB正在运行，它将返回以下文本：
- en: '[PRE29]'
  id: totrans-198
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: 'Let''s run CouchDB as a real background process and ensure that it starts each
    time you start your computer by running the following statement:'
  id: totrans-199
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 让我们将CouchDB作为一个真正的后台进程运行，并确保每次启动计算机时都会运行它，通过运行以下语句：
- en: '[PRE30]'
  id: totrans-200
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: Note
  id: totrans-201
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: If your version of CouchDB is different to mine, you will have to change the
    version in this script that says "1.0.2", to match your version.
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您的CouchDB版本与我的不同，您将不得不更改此脚本中的版本，该脚本显示为"1.0.2"，以匹配您的版本。
- en: CouchDB is now running in the background, and even if we restart our computer,
    we don't have to worry about starting the service before we try to use it.
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: CouchDB现在在后台运行，即使我们重新启动计算机，也不必担心在尝试使用它之前启动服务。
- en: 'If, for some reason, you decide that you don''t want CouchDB running in the
    background, you can unload it by running the following command:'
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 如果由于某种原因，您决定不希望CouchDB在后台运行，您可以通过运行以下命令卸载它：
- en: '[PRE31]'
  id: totrans-205
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: 'You can double-check to make sure that CouchDB is running by using the `curl`
    statement that we used earlier:'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以通过使用我们之前使用的`curl`语句来双重检查CouchDB是否正在运行：
- en: Open **Terminal**.
  id: totrans-207
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开**终端**。
- en: 'Run the following command:'
  id: totrans-208
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 运行以下命令：
- en: '[PRE32]'
  id: totrans-209
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: '**Terminal** will reply with the following:'
  id: totrans-210
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**终端**将回复以下内容：'
- en: '[PRE33]'
  id: totrans-211
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: Installing version control
  id: totrans-212
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装版本控制
- en: Version control systems allow developers to track code changes, merge other
    developers' code, and to roll back any inadvertent errors. Version control systems
    are a must on a project with several developers but can also be a lifesaver for
    single developer projects. Think of it as a safety net — if you accidentally do
    something you didn't want to, then source control is there to protect you. There
    are several options when it comes to version control, but in this book, we will
    use Git.
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 版本控制系统允许开发人员跟踪代码更改，合并其他开发人员的代码，并回滚任何无意的错误。对于有几个开发人员的项目，版本控制系统是必不可少的，但对于单个开发人员项目也可能是一个救命稻草。把它想象成一个安全网-如果您不小心做了一些您不想做的事情，那么源代码控制就在那里保护您。在版本控制方面有几种选择，但在本书中，我们将使用Git。
- en: Git
  id: totrans-214
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Git
- en: Git ([http://git-scm.com/](http://git-scm.com/)) has become one of the more
    popular and widely adopted version control systems because of its distributed
    nature and ease-of-use. The only thing easier than actually using Git is installing
    it. We will use Homebrew to install Git, just as we did with CouchDB.
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: Git ([http://git-scm.com/](http://git-scm.com/))已经成为更受欢迎和广泛采用的版本控制系统之一，因为它的分布式性和易用性。实际使用Git的唯一比安装更容易的事情就是安装它。我们将使用Homebrew来安装Git，就像我们用CouchDB一样。
- en: Time for action — installing and configuring Git
  id: totrans-216
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 行动时间-安装和配置Git
- en: Get ready! We are going to install Git onto our computer using Homebrew.
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 准备好了！我们将使用Homebrew在计算机上安装Git。
- en: Open **Terminal**.
  id: totrans-218
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开**终端**。
- en: 'Run the following command to install Git using Homebrew:'
  id: totrans-219
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 运行以下命令使用Homebrew安装Git：
- en: '[PRE34]'
  id: totrans-220
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: '**Terminal** will download and install Git for you in just a matter of moments.
    It will then respond with a success message telling you that Git has been installed.'
  id: totrans-221
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**终端**将在短短几分钟内为您下载并安装Git。然后，它将以成功消息回复您，告诉您Git已安装。'
- en: After Git has been installed, you need to configure it so that it knows who
    you are when you commit changes to data. Run the following commands to identify
    yourself and make sure to fill in your own information where I've put `Your Name`
    and `your_email@domain.com:`
  id: totrans-222
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装Git后，您需要配置它，以便在提交数据更改时知道您是谁。运行以下命令来标识自己，并确保在我放置`Your Name`和`your_email@domain.com`的地方填写您自己的信息：
- en: '[PRE35]'
  id: totrans-223
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: What just happened?
  id: totrans-224
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 刚刚发生了什么？
- en: We just installed Git from the source using Homebrew. We then configured Git
    to use our name and e-mail address. These settings will make sure that any changes
    that are committed to source control from this machine are identified.
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 我们刚刚使用Homebrew从源代码安装了Git。然后，我们配置了Git以使用我们的姓名和电子邮件地址。这些设置将确保从这台机器提交到源代码控制的任何更改都能被识别。
- en: Did you have any problems?
  id: totrans-226
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 你遇到了什么问题吗？
- en: 'We''re all done with confi guring our system! In a perfect world, everything
    would be installed without any issues, but it''s enti rely possible that something
    didn''t install perfectly. If it seems like something isn''t working right, or
    you think you may have made some typos along the way, I have a script that you
    can run that will help you get back on track. This command can be executed locally
    by calling a fi le I have on github. All you have to do is run the following command
    in **Terminal**, and it will run all of the necessary code for this chapter:'
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经完成了配置我们的系统！在一个完美的世界中，一切都会顺利安装，但完全有可能有些东西安装不完美。如果似乎有些东西不正常，或者您认为自己可能在某个地方打错了字，我有一个脚本可以帮助您重新回到正轨。这个命令可以通过在**终端**中调用我在github上的一个文件来本地执行。您只需在**终端**中运行以下命令，它将运行本章所需的所有必要代码：
- en: '**sh <(curl -s https://raw.github.com/timjuravich/environment-setup/master/
    configure.sh)**'
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: '**sh <(curl -s https://raw.github.com/timjuravich/environment-setup/master/
    configure.sh)**'
- en: This script will do all of the work that has been menti oned in this secti on,
    and it's safe to run as many ti mes as you want. I could have given you this one
    command and fi nished up the chapter pages ago, but this chapter was integral
    in teaching you how to use the tools and uti liti es that we will use in the coming
    chapters.
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 这个脚本将完成本节中提到的所有工作，并且可以安全地运行多次。我本可以给你这个命令并在几页前结束这一章，但这一章对教会你如何使用我们将在接下来的章节中使用的工具和实用程序是至关重要的。
- en: Pop quiz
  id: totrans-230
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 小测验
- en: When we are using the default Apache installati on for web developing, where
    is the default working directory?
  id: totrans-231
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当我们使用默认的Apache安装进行Web开发时，默认的工作目录在哪里？
- en: In order to use our local development environment with CouchDB, we need to make
    sure that two services are running. What are they, and how do you make them run
    in **Terminal?**
  id: totrans-232
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为了在本地开发环境中使用CouchDB，我们需要确保两个服务正在运行。它们是什么，你如何在**终端**中让它们运行？
- en: What command line statement do you use to issue a `Get` request to CouchDB?
  id: totrans-233
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你使用什么命令行语句来向CouchDB发出`Get`请求？
- en: Summary
  id: totrans-234
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: 'Let''s do a quick recap of everything we''ve covered in this chapter:'
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们快速回顾一下本章涵盖的所有内容：
- en: We became familiar with **Terminal** and used it to show hidden fi les
  id: totrans-236
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们熟悉了**终端**并用它来显示隐藏文件
- en: We installed a text editor for us to use in development
  id: totrans-237
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们安装了一个文本编辑器供我们在开发中使用
- en: We learned how to confi gure Apache and how to interact with it through the
    command line
  id: totrans-238
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们学会了如何配置Apache以及如何通过命令行与其交互
- en: We learned how to create simple PHP fi les and placed them in the correct locati
    on so that Apache could display them
  id: totrans-239
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们学会了如何创建简单的PHP文件，并将它们放在正确的位置，以便Apache可以显示它们
- en: We learned how to install Homebrew, and then we used it to install CouchDB and
    Git
  id: totrans-240
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们学会了如何安装Homebrew，然后用它来安装CouchDB和Git
- en: We checked to make sure that CouchDB was up and running
  id: totrans-241
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们检查了一下，确保CouchDB已经启动运行
- en: In the next chapter, we'll get more familiar with CouchDB and explore how to
    use it in the creati on of our web applicati on.
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将更加熟悉CouchDB，并探索如何在创建我们的Web应用程序中使用它。
