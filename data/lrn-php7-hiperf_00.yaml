- en: Preface
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 前言
- en: 'The PHP community faced a huge problem over decades: performance. No matter
    how powerful hardware they got, in the end, PHP was a bottleneck in itself. With
    PHP 5.4.x, 5.5.x, and 5.6.x, PHP''s performance started to improve, but still
    it was a huge problem in high-load applications. The community developed caching
    tools such as **Alternative PHP Cache** (**APC**) and Zend OpCache, which cached
    the opcode for high performance, and these tools had a good effect on the performance.'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: PHP社区在几十年来面临着一个巨大的问题：性能。无论他们拥有多么强大的硬件，最终PHP本身都成为了瓶颈。随着PHP 5.4.x、5.5.x和5.6.x的推出，PHP的性能开始改善，但在高负载应用中仍然是一个巨大的问题。社区开发了诸如**Alternative
    PHP Cache**（**APC**）和Zend OpCache之类的缓存工具，这些工具对性能产生了良好的影响。
- en: To get rid of the performance issues of PHP, Facebook built their own open source
    tool called **HHVM** (**HipHop Virtual Machine**). According to their official
    website, HHVM uses the Just In Time (JIT) compilation to achieve superior performance
    while maintaining the development flexibility that PHP provides. HHVM had great
    performance compared to PHP, and it is widely used in production for heavy applications
    such as Magento.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 为了解决PHP的性能问题，Facebook构建了他们自己的开源工具**HHVM**（**HipHop虚拟机**）。根据他们的官方网站，HHVM使用即时（JIT）编译来实现卓越的性能，同时保持PHP提供的开发灵活性。与PHP相比，HHVM的性能非常出色，并且广泛用于像Magento这样的重型应用的生产环境。
- en: PHP went to war with HHVM using **PHP Next Generation** (**PHPNG**). The whole
    purpose of PHPNG is to increase performance and focus on the rewriting and optimization
    of the Zend engine memory allocation and PHP data types. People around the world
    started benchmarking PHPNG and HHVM, and according to them, PHPNG was outperforming
    HHVM.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: PHP通过**PHP Next Generation**（**PHPNG**）与HHVM展开了竞争。PHPNG的整个目的是提高性能，并专注于重写和优化Zend引擎内存分配和PHP数据类型。世界各地的人开始对PHPNG和HHVM进行基准测试，据他们称，PHPNG的性能优于HHVM。
- en: At last, PHPNG was merged with the master branch of PHP, and after a tremendous
    amount of optimization and complete rewriting, PHP 7 was released with huge performance
    improvements. PHP 7 is still not JIT, but its performance is great and similar
    to HHVM. This is a huge performance increase from the older versions of PHP.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，PHPNG与PHP的主分支合并，经过大量优化和完全重写，PHP 7发布，性能大幅提升。PHP 7仍然不是JIT，但其性能很好，与HHVM类似。这是与旧版本PHP相比的巨大性能提升。
- en: What this book covers
  id: totrans-5
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书涵盖的内容
- en: '[Chapter 1](ch01.html "Chapter 1. Setting Up the Environment"), *Setting Up
    the Environment,* covers how to set up different development environments, including
    the installation of NGINX, PHP 7, and Percona Server on Windows, different Linux
    distros, and setting up the Vagrant virtual machine for development purposes.'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 第1章，*设置环境*，介绍了如何设置不同的开发环境，包括在Windows、不同的Linux发行版上安装NGINX、PHP 7和Percona Server，以及为开发目的设置Vagrant虚拟机。
- en: '[Chapter 2](ch02.html "Chapter 2. New Features in PHP 7"), *New Features in
    PHP 7*, covers the major new features introduced in PHP 7, including Type Hints,
    Group use Declarations, Anonymous classes, and new operators, such as Spaceship
    operator, Null Coalesce operators, and the Uniform variable syntax.'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 第2章，*PHP 7的新特性*，介绍了PHP 7引入的主要新特性，包括类型提示、组使用声明、匿名类和新操作符，如太空船操作符、空合并操作符和统一变量语法。
- en: '[Chapter 3](ch03.html "Chapter 3. Improving PHP 7 Application Performance"),
    *Improving PHP 7 Application Performance*, covers different techniques to increase
    and scale a PHP 7 application''s performance. In this chapter, we cover optimization
    of NGINX and Apache, CDN, and CSS/JavaScript, such as merging and minifying them,
    full-page caching, and installing and configuring Varnish. At last, we discuss
    an ideal infrastructure setup for application development.'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 第3章，*改善PHP 7应用程序性能*，介绍了不同的技术来增加和扩展PHP 7应用程序的性能。在本章中，我们涵盖了NGINX和Apache的优化、CDN和CSS/JavaScript的优化，如合并和最小化它们，全页面缓存以及安装和配置Varnish。最后，我们讨论了应用开发的理想基础架构设置。
- en: '[Chapter 4](ch04.html "Chapter 4. Improving Database Performance"), *Improving
    Database Performance*, covers techniques to optimize MySQL and Percona Server
    configuration for high performance. Also, it covers different tools to monitor
    the performance of a database. It also covers Memcached and Redis for caching
    objects.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 第4章，*改善数据库性能*，介绍了优化MySQL和Percona Server配置以实现高性能的技术。还介绍了不同的工具来监控数据库的性能。还介绍了用于缓存对象的Memcached和Redis。
- en: '[Chapter 5](ch05.html "Chapter 5. Debugging and Profiling"), *Debugging and
    Profiling*, covers debugging and profiling techniques including the use of Xdebug
    for debugging and profiling, debugging with Sublime Text 3 and Eclipse, and the
    PHP DebugBar.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 第5章，*调试和性能分析*，介绍了调试和性能分析技术，包括使用Xdebug进行调试和性能分析，使用Sublime Text 3和Eclipse进行调试，以及PHP
    DebugBar。
- en: '[Chapter 6](ch06.html "Chapter 6. Stress/Load Testing PHP Applications"), *Stress/Load
    Testing PHP Applications*, covers different tools to stress and load test the
    application. It covers Apache JMeter, ApacheBench, and Siege for load testing.
    It also covers how to load test different open source systems such as Magento,
    Drupal, and WordPress on PHP 7 and PHP 5.6, and compares their performance on
    PHP 7 and PHP 5.6.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 第6章，*压力/负载测试PHP应用程序*，介绍了不同的工具来对应用程序进行压力和负载测试。涵盖了Apache JMeter、ApacheBench和Siege用于负载测试。还介绍了如何在PHP
    7和PHP 5.6上对Magento、Drupal和WordPress等不同开源系统进行负载测试，并比较它们在PHP 7和PHP 5.6上的性能。
- en: '[Chapter 7](ch07.html "Chapter 7. Best Practices in PHP Programming"), *Best
    Practices in PHP Programming*, covers a few best practices for producing quality
    standard code. It covers coding styles, design patterns, service-oriented architecture,
    test-driven development, Git, and deployments.'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 第7章，*PHP编程的最佳实践*，介绍了一些生产高质量标准代码的最佳实践。涵盖了编码风格、设计模式、面向服务的架构、测试驱动开发、Git和部署。
- en: '[Appendix A](apa.html "Appendix A. Tools to Make Life Easy"), *Tools to Make
    Life Easy*, discusses three of these tools in much more detail. The tools we will
    discuss are Composer, Git, and Grunt watch.'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '[附录A](apa.html "附录A. 使生活更轻松的工具"), *使生活更轻松的工具*，更详细地讨论了其中三种工具。我们将讨论的工具是Composer、Git和Grunt
    watch。'
- en: '[Appendix B](apb.html "Appendix B. MVC and Frameworks"), *MVC and Frameworks*,
    covers MVC design patterns and the most popular frameworks that are used in PHP
    development, which include Laravel, Lumen, and Apigility.'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '[附录B](apb.html "附录B. MVC和框架"), *MVC和框架*，涵盖了PHP开发中使用的MVC设计模式和最流行的框架，包括Laravel、Lumen和Apigility。'
- en: What you need for this book
  id: totrans-15
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 您需要为本书准备什么
- en: 'Any hardware specification that is compliant to run the latest versions of
    the following software should be enough to get through this book:'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 任何符合运行以下软件的最新版本的硬件规格都应足以完成本书的学习：
- en: 'Operating systems: Debian or Ubuntu'
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 操作系统：Debian或Ubuntu
- en: 'Software: NGINX, PHP 7, MySQL, PerconaDB, Redis, Memcached, Xdebug, Apache
    JMeter, ApacheBench, Siege, and Git'
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 软件：NGINX、PHP 7、MySQL、PerconaDB、Redis、Memcached、Xdebug、Apache JMeter、ApacheBench、Siege和Git
- en: Who this book is for
  id: totrans-19
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 这本书适合谁
- en: This book is for those who have basic experience in PHP programming. If you
    are developing performance-critical applications, then this book is for you.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 这本书适合那些具有PHP编程基础经验的人。如果您正在开发性能关键的应用程序，那么这本书适合您。
- en: Conventions
  id: totrans-21
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 约定
- en: In this book, you will find a number of text styles that distinguish between
    different kinds of information. Here are some examples of these styles and an
    explanation of their meaning.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书中，您会发现一些文本样式，用于区分不同类型的信息。以下是这些样式的一些示例及其含义的解释。
- en: 'Code words in text, database table names, folder names, filenames, file extensions,
    pathnames, dummy URLs, user input, and Twitter handles are shown as follows: "We
    can include other contexts through the use of the `include` directive."'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟URL、用户输入和Twitter用户名显示如下：“我们可以通过使用`include`指令来包含其他上下文。”
- en: 'A block of code is set as follows:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 代码块设置如下：
- en: '[PRE0]'
  id: totrans-25
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'When we wish to draw your attention to a particular part of a code block, the
    relevant lines or items are set in bold:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们希望引起您对代码块的特定部分的注意时，相关行或项会以粗体显示：
- en: '[PRE1]'
  id: totrans-27
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Any command-line input or output is written as follows:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 任何命令行输入或输出都以以下方式编写：
- en: '[PRE2]'
  id: totrans-29
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '**New terms** and **important words** are shown in bold. Words that you see
    on the screen, for example, in menus or dialog boxes, appear in the text like
    this: "Clicking the **Next** button moves you to the next screen."'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: '**新术语**和**重要单词**以粗体显示。例如，在屏幕上看到的单词，比如菜单或对话框中的单词，会在文本中出现，就像这样：“点击**下一步**按钮会将您移动到下一个屏幕。”'
- en: Note
  id: totrans-31
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Warnings or important notes appear in a box like this.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 警告或重要说明会以这样的方式出现在一个框中。
- en: Tip
  id: totrans-33
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: Tips and tricks appear like this.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 提示和技巧会以这种方式出现。
