# 第六章：乐趣

为什么要在应用程序中添加游戏化元素？试图让某事更有趣的整个意义是什么？我们是否在回避操纵的主要问题？我们应该操纵任何人去做任何事吗？他们应该做他们想做的事。生活和幸福不都是关于“自由意志”吗？也许是这样，但科学和大量研究表明，我们的行为和所做的事情显然比我们最初想的更可预测和可塑。

# 内在与外在行为

真正的问题是，我们是否会自愿做某事（目标行为），还是总是需要有人或某物推动和激励我们？在长期内，推动和激励用户按照我们的系统行事是不可持续的。我们需要让我们的目标行为成为玩家“愿意”在没有刺激的情况下继续进行的事情。我们不希望不断地付钱让他们执行我们的目标行为。我们希望他们按照系统行事，而不是我们为他们做事并花费大量精力。实际上，我们希望他们出于自愿去做。我们希望我们的目标行为成为他们喜欢做的事情。

那么，人们喜欢做什么？我们知道他们喜欢做有趣的事情。人们做他们觉得有趣的事情。他们喜欢做有内在好处的事情。奖励的概念在游戏化中是一个主要焦点。当我们想到奖励时，脑海中首先想到的是积分、金钱、成就等。游戏化系统中的奖励通常是一件好事。我们认为任何激励人们采取我们的目标行动的东西都是好事。然而，从长远来看，我们希望鼓励内在动机的发展。内在动机意味着他们会出于采取行动的本身而采取我们期望的行动。演员从采取行动中获得足够的快乐和幸福，这意味着他/她不再需要外部奖励。

例如，专业运动员通常并不只是为了金钱补偿而参加他们特定的运动。他们通常不仅仅是为了得分和赢而受到激励。他们参加比赛是因为他们最终享受参加这项运动。他们会玩这个游戏，并且一直这样做，大部分时间都没有得到任何重大的报酬或好处。我们可以安全地假设赢得比赛激励他们。但即使他们输了，他们仍然会继续参加比赛。

我们需要在系统中建立机制，以增加玩家随着时间推移的内在动机水平。这就是乐趣的目的。

我们需要让用户觉得有趣，这样他们就会感到愉快。所以每当他们想要享受，不一定是得分，他们就会参与我们的系统。每当他们想要放松，他们就会参与我们的系统。每当他们想要完成某事并对自己感到满意，他们就会参与我们的系统。这就是我们所说的内在动机。

当一个人决定开发一个游戏化系统时，外在动机的机制是他/她首先考虑的。他/她实施了一个积分系统、一个奖励系统和一个排行榜。这些都是有价值的，但我们也必须包括乐趣的元素。否则，玩家会逐渐失去对采取行动的兴趣，更重要的是，对“玩我们的游戏”的兴趣。最终，系统将失败。

我们的第一个目标是在系统中建立内在动机。玩家参与系统是因为他们从参与中感到需要、快乐和欣赏。这对我们来说是理想的，而不是使用我们有限的资源来迫使他们这样做。这就是我们将要关注的地方，也是为什么让我们的系统在最后一天变得有趣如此重要。

# 什么使“乐趣”有趣？

那么，什么使乐趣…有趣？这是一个非常重要的问题。如果我们不知道什么是乐趣，我们怎么能将其构建到我们的系统中呢？我们需要明白，对一个人来说有趣的事情对另一个人来说未必有趣。

我们需要根据我们所指的人的情境来定义乐趣。对于不同的人，乐趣是不同的。这取决于他们生活中的位置。这取决于他们目前最重要的事情。然而，我们可以概述乐趣的一般概念。更重要的是，我们可以捕捉这些概念的本质。然后我们只需要在可能的地方实施它们。

当我们做一些迫使我们走出自己的事情时，通常会体验到乐趣。当我们挑战自己并努力去完成某事时，我们会体验到一种喜悦。这个想法的核心是成就。成就是有趣的。

许多人发现打破他们的日常例行程序是有趣的。当我们逃离我们的日常例行程序和环境时，通常会觉得很愉快。惊喜和经历意外的事情往往具有一定的乐趣元素。惊喜和意外是有趣的。

根据巴特尔的玩家理论，冒险和探索吸引了许多人。他将他们称为探险家。这些人喜欢外出并体验冒险的乐趣。

与其他人一起做事是有趣的。在游戏环境中，与他人互动激励了社交者。任何具有社交成分的活动都被认为是有趣的。

行动是有趣的。要有乐趣并且被动是非常困难的。参与、互动和交流往往会激发乐趣。

许多人喜欢表达自己。情感表达是有趣的。情感表达对不同的人来说是不同的。我能够通过这种活动分享我独特的东西的想法使它变得有趣。我们在采取行动并在情感层面表达独特和特别的东西中找到乐趣。

乐趣绝对不是一个统一的、一刀切的概念。我们可以识别一些使活动有趣的组成部分或事物，并加以利用。以下是其中一些：

+   参与

+   社交互动

+   冒险

+   探索

+   惊喜

+   不确定性

+   挑战

这些都是增加乐趣的事物。我们可以采用这些元素并将其构建到我们的系统中，使系统更有趣。

# 玩家的体验

我们需要一个过程和方法来概述我们为玩家创造的愉快体验。*斯科特·里格比*和*理查德·瑞恩*（2006 年）起草了一篇关于*玩家体验*的研究论文。他们称之为**玩家需求满足的体验**（**PENS**）模型。他们评估并证明玩家的体验中至少需要三样东西才能使体验更愉快：**能力**、**自主权**和**相关性**。

玩家的体验

## 能力

玩家需要感觉自己足够能够玩游戏。然而，他们也期望游戏中有一定程度的挑战。挑战和玩家的能力水平应该理想地匹配。随着玩家在游戏中变得更加熟练（更有能力），游戏变得更加困难。作者*Mihaly Csikszentmihalyi*将此称为“心流”。这是一种理想状态，任务既不会太难以至于人们放弃，也不会太容易以至于他们感到无聊。

目标是保持游戏的难度与玩家完成任务的能力保持一致。这会导致玩家达到一定满意度水平。

## 自主权

PENS 模型的另一个组成部分是自主权。尽管玩家处于游戏机制的构造之内，他们需要感觉自己始终控制着局面。他们可以决定接下来要做什么。他们可以使用策略。他们可以自由地采取任何行动。

## 相关性

最后，PENS 模型要求相关性和社交互动。玩家需要与其他玩家建立联系。例如，在游戏《魔兽世界》中，玩家属于公会。我们还需要创建这种社交互动。

*丹尼尔·平克*，《驱动力：关于是什么激励我们的惊人真相》的作者，在他的著作中支持 PENS 模型。在书中，平克建议我们的动力来自于掌握。这相当于能力。他还建议我们渴望在所做的事情中拥有自主权。他最后建议我们需要从我们所采取的行动中感到一种目的感。我们喜欢知道我们所做的事情在世界上有一定的相关性。

尽管相关性并不完全是目的，并且来自不同的角度，但这两个想法是重叠的。也许相关性是将目的带入活动的因素。当用户看到他们所做的事情影响的不仅仅是自己，而是影响整个社会时，它变得更加愉快。

这些都是我们需要构建到玩家体验中的一些东西，使我们的游戏化系统对玩家更有趣，更愉快。我们有许多方式来衡量我们系统的成功或失败。

# 得分模块

首先，我们将看一下得分模块。它由 JavaScript 组成，其中包含一个 Ajax 调用，实际上从数据库获取得分数据。以下是 JavaScript 方法的代码：

```php
function GetMyScore(){
  var action='GetMyPoints',
    player=getFromLocalStorage('player');
   $("#myscore").html('0');
   $.ajax({
        dataType: "text",
        data: {action:action,player:player},
        url: $AJAXHANDLER,
        success: function (data) {
    $("#myscore").html(data);
  },
        error: function (xhr, status, error) {
            alert(status + error + xhr.responseText);
        }
    });

  }
```

## AjaxHandler.php

在以下代码中，Ajax 方法调用`ajax_handler.php`，其工作是接受 Ajax 调用并根据 Ajax 调用传递给它的操作参数调用正确的 PHP 函数：

```php
<?php include 'vupoint.php'; ?>
<?php
if(isset($_GET['player'])){$player=$_GET['player'];  }

switch ($_GET['action']) {
  case 'GetMyPoints':
  GetMyVuPoints($player);
    break;
    case 'GetLeaderBoard':
  GetLeaderBoard();
  break;
  case 'GetPlayersOnlineNow':
  GetPlayersOnlineNow();
  break;
  case 'GetMyAchievements':
  GetMyAchievements($player);
  break;
  default:
  Error();
  break;
}
?>
```

在这种情况下，ajax_handler 调用`GetMyVuPoints` PHP 函数，该函数位于 vupoint.php 文件中。它接受玩家的用户名或电子邮件地址，并从数据库返回玩家的积分。

```php
function GetMyVuPoints($Player){
$storedProcedure = "Select points from Player where UserName='$Player' or EmailAddress='$Player'";
$result = mysql_query($storedProcedure);
$pointsarray = mysql_fetch_row($result);
if($result){
$points = $pointsarray[0];
}else{
$points='10';
}
echo $points;
}
```

# 成就模块

成就模块的流程与其他模块相同。我们再次调用 ajax_handler.php 来构建这个模块。请注意，在来自 Ajax 调用的回调函数中，数据以 JavaScript 对象表示法（JSON）的形式写入。我们需要循环这个 JSON 对象来实际访问成就数据。我们还需要动态构建一个包含成就图片的 HTML 表格。最后，我们将构建的 HTML 附加到 MyAchievements div 中：

```php
function GetMyAchievements(){
  var action='GetMyAchievements',
  player=getFromLocalStorage('player'),
  html="<table style=\"margin:0 auto;\">";
  $.ajax({
        dataType: "json",
        data: {action:action,player:player},
        url: $AJAXHANDLER,
        success: function (data) {
    var Achievements = data[0].BadgesEarned.split(',');
    for (var i = 0; i < Achievements.length; i++) { 
    AchievementId=Achievements[i];
    html+='<tr>';
    html+='<td><a href=\"#\"><img src=Images/'+ AchievementId+'.png></a></td>'
    html+='</tr>';
    }
    html+="</table>";
    $("#myachievementsdiv").append(html);
  },
        error: function (xhr, status, error) {
            alert(status + error + xhr.responseText);
        }
    });

  }

function GetMyAchievements($Player){
$storedProcedure = "Select BadgesEarned  from Player where UserName='$Player' or EmailAddress='$Player'";
$MyAchievements = array();
$fetch = mysql_query($storedProcedure); 
while ($row = mysql_fetch_array($fetch, MYSQL_ASSOC)) {
$row_array['BadgesEarned'] = $row['BadgesEarned'];
array_push($MyAchievements,$row_array);
}
echo json_encode($MyAchievements);
}
```

# 排行榜模块

排行榜模块与成就模块的流程相同。以下是 JavaScript 代码：

```php
function GetLeaderBoard(){
var action='GetLeaderBoard',html='',Username='',Points='',html="<table>";
$.ajax({
dataType: "json",
data: {action:action},
url: $AJAXHANDLER,
success: function (data){
for (var i = 0; i < data.length; i++) { 
if (data[i].UserName==''){Username='Anonymous'}else{Username=data[i].UserName};
Points = data[i].Points;
html+='<tr><td><a href="#">'+Username +'</a></td><td>'+Points+'</td></tr>';  
}
html+="</table>";
$("#leaderboardsdiv").append(html);
},
error: function (xhr, status, error) {
}
});
}
```

以下是相关的 PHP 函数：

```php
function GetLeaderBoard(){
$storedProcedure = "Select distinct UserName,Points from Player order by points desc LIMIT 0,5";
$Leaders = array();
$fetch = mysql_query($storedProcedure); 
while ($row = mysql_fetch_array($fetch, MYSQL_ASSOC)) {
$row_array['UserName'] = $row['UserName'];
$row_array['Points'] = $row['Points'];
array_push($Leaders,$row_array);
}
echo json_encode($Leaders);
}
```

# 当前在线玩家

让我们构建代码来获取并显示当前在线玩家的列表。在这里，我们编写一个 JavaScript 函数，调用我们的 PHP 模块返回已登录玩家的列表。

JavaScript 函数如下：

```php
function GetPlayersOnlineNow(){
var action='GetPlayersOnlineNow',Username='',  html="<table>";
$.ajax({
dataType: "json",
data: {action:action},
url: $AJAXHANDLER,
        success: function (data){
    for (var i = 0; i < data.length; i++) { 
    if(data[i].UserName==''){Username='Anonymous'}else{Username=data[i].UserName};
    html+='<tr><td><a href="#">'+Username +'</a></td></tr>';  
    }
    html+="</table>";
    $("#playersonlinenowdiv").append(html);
  },
        error: function (xhr, status, error) {
            alert(status + error + xhr.responseText);
        }
    });

}
```

PHP 代码如下：

```php
function GetPlayersOnlineNow(){
$storedProcedure = "Select  UserName from Player where CurrentlyLoggedIn=true";
$OnlinePlayers = array();
$fetch = mysql_query($storedProcedure); 
while ($row = mysql_fetch_array($fetch, MYSQL_ASSOC)) {
$row_array['UserName'] = $row['UserName'];
array_push($OnlinePlayers,$row_array);
}
echo json_encode($OnlinePlayers);
}
```

在这一点上，我们应该看到以下截图：

![当前在线玩家](img/8119_6_02.jpg)

# 总结

在本章中，我们已经介绍了对于首次对过程进行游戏化的核心原因。我们想要一种期望的行为。我们不能强迫任何人做任何事情。然而，我们可以让以某种方式行为更有趣。乐趣和愉悦是一个强大的动力因素，并利用了我们吸引快乐和避免痛苦的基本人类需求。在我们放置了代码之后，我们有了实现我们在早期章节中概述的游戏化电子学习系统的功能。
