# 前言

本书将向您介绍 PHP 5.0 版本开始提供的最重要的扩展之一——PHP 数据对象，通常称为 PDO。

PHP 由于其简单性和易用性而成为非常流行的 Web 编程语言。这种不断增长的成功的关键因素之一是内置的访问许多流行的关系数据库管理系统（RDBMS）的可能性，比如 MySQL、PostgreSQL 和 SQLite 等。今天，大多数现有的和新创建的 Web 应用程序都与这些数据库相互连接，以生成动态的、数据驱动的网站。

虽然大多数支持 PHP 的 Web 服务器仍在运行 PHP 5.0 之前的版本，但这个新版本引入的增强功能和性能改进将在未来几年内导致 PHP 5 在各个层面得到广泛接受。这就需要我们开始熟悉今天在这个版本中可用的所有高级功能。

# 本书涵盖内容

第一章概述了 PDO 以及一些功能，比如创建连接的单一接口、连接字符串、统一的语句方法以及异常的使用和单一的错误代码系统。

第二章帮助您开始使用 PDO，通过创建一个示例数据库，然后创建一个连接对象。它还介绍了 PDOStatement 类。

第三章涉及各种错误处理过程及其用途。

第四章介绍了准备好的语句。它涉及在不绑定值的情况下使用准备好的语句，绑定变量以及将参数绑定到准备好的语句。我们还看一下如何使用流处理 BLOB，以便我们不会出现查询失败的风险。

第五章帮助我们确定返回结果集中的行数。此外，我们还遇到了一个新概念——可滚动的游标，它允许我们从结果集中获取子集行。

第六章讨论了 PDO 的高级用法，包括设置连接参数、事务以及`PDO`和`PDOStatement`类的方法。

第七章给出了一个例子，讨论了 MVC 应用程序的方法部分的创建。

附录 A 解释了面向对象的特性，比如继承、封装、多态和异常处理。

# 本书的目标读者

本书面向考虑迁移到 PHP 5 并使用新的数据库连接抽象库 PHP 数据对象的 PHP 程序员。虽然 PDO 是完全面向对象的，但需要熟悉这种编程范式。不熟悉 PHP 5 面向对象特性的初学者可能会考虑先阅读附录 A，以便能够跟随本书中的代码示例。

我们假设读者熟悉 SQL，能够创建表并进行简单的 SELECT 查询和更新。我们的示例基于 MySQL 和 SQLite 数据库，因为它们是最常用的选项，也是大多数廉价托管提供商提供的唯一选项。

本书末尾将呈现一个更高级的例子，可能会引起对 SQL 和编程概念有更深入了解的专业程序员的兴趣。

# 约定

在本书中，您会发现一些文本样式，用于区分不同类型的信息。以下是一些样式的示例，以及它们的含义解释。

代码有三种样式。文本中的代码单词显示如下："PostgreSQL 用户可能已经使用了`pg_prepare()`和`pg_execute()`对。"

代码块将设置如下：

```php
// Assume we also want to filter by make
$sql = 'SELECT * FROM cars WHERE make=?';
$stmt = $conn->prepare($sql);
$stmt->execute(array($_REQUEST['make']));

```

当我们希望引起您对代码块的特定部分的注意时，相关行或项目将被加粗：

```php
// Assume we also want to filter by make
$sql = 'SELECT * FROM cars WHERE make=?';
**$stmt = $conn->prepare($sql);**
$stmt->execute(array($_REQUEST['make']));

```

**新术语**和**重要单词**以粗体字体介绍。您在屏幕上看到的单词，比如菜单或对话框中的单词，在我们的文本中会出现如下："您可以在浏览器中的图书列表页面上简单点击**作者**链接"。

### 注意

重要提示会以这样的框出现。

### 注意

提示和技巧会出现在这样的形式中。
